{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useNavigate,useSearchParams}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useSocket}from'../contexts/SocketContext';import{LayoutDashboard,TrendingUp,Wallet,Award,Clock,ChevronRight,PlayCircle,Zap,Gift,ArrowUpRight,CreditCard,Target}from'lucide-react';import axios from'axios';import styled,{keyframes,css}from'styled-components';import LoadingSpinner from'../components/LoadingSpinner';import{toast}from'react-toastify';// --- Styled Components ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PageContainer=styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 1rem 1.5rem;\n  font-family: 'Inter', sans-serif;\n  color: #1e293b;\n  min-height: calc(100vh - 80px);\n\n  @media (max-width: 1024px) {\n    padding: 1rem;\n  }\n`;const HeroCard=styled.div`\n  background: linear-gradient(135deg, #0fc179 0%, #059669 100%);\n  border-radius: 16px;\n  padding: 1.5rem 2rem;\n  color: white;\n  margin-bottom: 1.25rem;\n  box-shadow: 0 4px 15px -1px rgba(15, 193, 121, 0.3);\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 100px;\n\n  // Abstract shapes\n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    right: -10%;\n    width: 200px;\n    height: 200px;\n    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);\n    border-radius: 50%;\n  }\n  \n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -30%;\n    left: 10%;\n    width: 150px;\n    height: 150px;\n    background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 70%);\n    border-radius: 50%;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n    padding: 1.25rem;\n  }\n`;const WelcomeText=styled.div`\n  position: relative;\n  z-index: 1;\n\n  h1 {\n    font-size: 1.5rem;\n    font-weight: 800;\n    margin: 0;\n    color: white;\n    letter-spacing: -0.025em;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  p {\n    margin: 0.25rem 0 0;\n    color: rgba(255, 255, 255, 0.95);\n    font-size: 0.9rem;\n    font-weight: 500;\n  }\n`;const ActionGroup=styled.div`\n  display: flex;\n  gap: 1rem;\n`;const fadeIn=keyframes`\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n`;const pulse=keyframes`\n  0% { box-shadow: 0 0 0 0 rgba(15, 193, 121, 0.4); }\n  70% { box-shadow: 0 0 0 6px rgba(15, 193, 121, 0); }\n  100% { box-shadow: 0 0 0 0 rgba(15, 193, 121, 0); }\n`;const StatsGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  @media (max-width: 640px) {\n    grid-template-columns: 1fr;\n  }\n`;const StatCard=styled.div`\n  background: white;\n  border-radius: 16px;\n  padding: 1rem 1.25rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\n  border: 1px solid #f1f5f9;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n  animation: ${fadeIn} 0.6s ease-out backwards;\n  animation-delay: ${props=>props.index*0.1}s;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n\n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n    border-color: #0fc179;\n  }\n\n  /* Decorative sheen effect on hover */\n  // ... (kept same but lighter)\n`;const StatHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.5rem;\n  z-index: 1;\n`;const IconWrapper=styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${props=>props.bg||'#f0fdf4'};\n  color: ${props=>props.color||'#0fc179'};\n  font-size: 1.25rem;\n  transition: transform 0.3s ease;\n  box-shadow: inset 0 2px 4px 0 rgba(255, 255, 255, 0.6);\n\n  ${StatCard}:hover & {\n    transform: rotate(5deg) scale(1.1);\n  }\n`;const StatMain=styled.div`\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n`;const StatValue=styled.div`\n  font-size: 1.75rem;\n  font-weight: 800;\n  color: #0f172a;\n  margin-bottom: 0px;\n  letter-spacing: -0.03em;\n  line-height: 1.1;\n`;const StatLabel=styled.div`\n  color: #64748b;\n  font-size: 0.8rem;\n  font-weight: 500;\n  letter-spacing: -0.01em;\n`;const TrendBadge=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  padding: 0.35rem 0.75rem;\n  border-radius: 9999px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  background-color: ${props=>props.$pulse?'#ecfdf5':'#f1f5f9'};\n  color: ${props=>props.$pulse?'#059669':'#475569'};\n  border: 1px solid ${props=>props.$pulse?'#d1fae5':'transparent'};\n  \n  ${props=>props.$pulse&&css`\n    animation: ${pulse} 2s infinite;\n  `}\n`;const MainGrid=styled.div`\n  display: grid;\n  grid-template-columns: 1fr 340px;\n  gap: 1.5rem;\n  \n  @media (max-width: 968px) {\n    grid-template-columns: 1fr;\n  }\n`;const SectionTitle=styled.h2`\n  font-size: 1rem;\n  font-weight: 700;\n  color: #0f172a;\n  margin: 1.5rem 0 0.75rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:first-child {\n    margin-top: 0;\n  }\n\n  svg {\n    color: #0fc179;\n  }\n`;const Card=styled.div`\n  background: white;\n  border-radius: 16px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\n  border: 1px solid #f1f5f9;\n  overflow: hidden;\n  margin-bottom: 1.5rem;\n  display: flex;\n  flex-direction: column;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;const ListContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n`;const ListItem=styled.div`\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid #f1f5f9;\n  transition: background-color 0.2s ease;\n  cursor: ${props=>props.$clickable?'pointer':'default'};\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:hover {\n    background-color: ${props=>props.$clickable?'#f8fafc':'white'};\n  }\n\n  @media (max-width: 640px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n`;const ItemIcon=styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: 10px;\n  background-color: ${props=>props.bg||'#f1f5f9'};\n  color: ${props=>props.color||'#64748b'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1rem;\n  flex-shrink: 0;\n`;const ItemContent=styled.div`\n  flex: 1;\n  \n  h4 {\n    margin: 0 0 0.25rem 0;\n    font-size: 0.95rem;\n    font-weight: 600;\n    color: #0f172a;\n  }\n\n  p {\n    margin: 0;\n    color: #64748b;\n    font-size: 0.85rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n`;const ItemRight=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n\n  @media (max-width: 640px) {\n    width: 100%;\n    justify-content: space-between;\n    margin-top: 0.5rem;\n  }\n`;const Badge=styled.span`\n  padding: 0.35rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  background-color: ${props=>props.bg||'#f1f5f9'};\n  color: ${props=>props.color||'#475569'};\n`;const ButtonPrimary=styled(Link)`\n  background: white;\n  color: #0fc179;\n  font-weight: 700;\n  padding: 0.75rem 1.5rem;\n  border-radius: 12px;\n  transition: all 0.2s ease;\n  font-size: 0.95rem;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);\n    background: #f0fdf4;\n    color: #059669;\n  }\n`;const GoalCard=styled(Card)`\n  background: linear-gradient(135deg, #0fc179 0%, #059669 100%);\n  color: white;\n  border: none;\n  padding: 1.5rem;\n  box-shadow: 0 10px 15px -3px rgba(15, 193, 121, 0.3);\n  margin-bottom: 1.5rem;\n`;const GoalHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n\n  h3 {\n    margin: 0;\n    font-size: 1.1rem;\n    color: white;\n  }\n`;const ProgressBarContainer=styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  height: 8px;\n  border-radius: 4px;\n  margin: 1rem 0;\n  overflow: hidden;\n`;const ProgressBarFill=styled.div`\n  height: 100%;\n  background: white;\n  border-radius: 4px;\n  width: ${props=>props.width||'0%'};\n  transition: width 1s ease-out;\n`;const GoalMeta=styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.875rem;\n  color: rgba(255, 255, 255, 0.9);\n  margin-top: 0.5rem;\n`;const QuickActionGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n`;const QuickActionButton=styled(Link)`\n  background: white;\n  border: 1px solid #f1f5f9;\n  border-radius: 12px;\n  padding: 1.25rem;\n  text-align: center;\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.75rem;\n\n  &:hover {\n    border-color: #0fc179;\n    background: #f0fdf4;\n    transform: translateY(-2px);\n  }\n\n  svg {\n    color: #0fc179;\n    margin-bottom: 0.25rem;\n  }\n\n  span {\n    font-weight: 600;\n    font-size: 0.875rem;\n    color: #334155;\n  }\n`;const EmptyState=styled.div`\n  padding: 3rem;\n  text-align: center;\n  color: #94a3b8;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n`;// --- Dashboard Component ---\nconst Dashboard=()=>{const{user,refreshUser}=useAuth();const{socket}=useSocket();const navigate=useNavigate();const[searchParams,setSearchParams]=useSearchParams();const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const handleSurveyClick=surveyId=>{navigate(`/surveys/${surveyId}`);};const fetchDashboardData=useCallback(async()=>{try{setLoading(true);const response=await axios.get('/users/dashboard');if(response.data.success){setDashboardData(response.data.dashboard);}else{setError('Failed to load dashboard data');}}catch(error){var _error$response,_error$response$data;console.error('Dashboard fetch error:',error);setError('Failed to load dashboard data. Error: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}finally{setLoading(false);}},[]);// Empty dependency array - function never changes\n// Initial load only\nuseEffect(()=>{if(user){fetchDashboardData();}},[user,fetchDashboardData]);// Socket.io listener\nuseEffect(()=>{if(socket&&user){const handlePointsUpdate=async data=>{if(data.reason==='withdrawal_approved'){toast.success(data.message);}else if(data.reason==='withdrawal_rejected'){toast.info(data.message);}await refreshUser();// fetchDashboardData is stable now\nfetchDashboardData();};socket.on('pointsUpdated',handlePointsUpdate);return()=>socket.off('pointsUpdated',handlePointsUpdate);}},[socket,user,refreshUser,fetchDashboardData]);// Handle URL params\nuseEffect(()=>{const completed=searchParams.get('completed');const refresh=searchParams.get('refresh');if(completed==='true'&&refresh==='true'){const refreshData=async()=>{try{await refreshUser();await fetchDashboardData();const newSearchParams=new URLSearchParams(searchParams);newSearchParams.delete('completed');newSearchParams.delete('refresh');setSearchParams(newSearchParams,{replace:true});}catch(error){console.error('Error refreshing dashboard data:',error);}};refreshData();}},[searchParams,setSearchParams,refreshUser]);if(loading){return/*#__PURE__*/_jsx(PageContainer,{style:{display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(PageContainer,{children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',background:'#fee2e2',borderRadius:'16px',color:'#dc2626'},children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),style:{marginTop:'1rem',padding:'0.75rem 1.5rem',background:'#dc2626',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Retry\"})]})});}const stats=(dashboardData===null||dashboardData===void 0?void 0:dashboardData.stats)||{totalSurveys:0,totalPointsEarned:0,totalRedemptions:0,currentPoints:(user===null||user===void 0?void 0:user.points)||0,approvedWithdrawalAmount:0};const recentCompletedSurveys=(dashboardData===null||dashboardData===void 0?void 0:dashboardData.recentCompletedSurveys)||[];const recentOpenSurveys=(dashboardData===null||dashboardData===void 0?void 0:dashboardData.recentOpenSurveys)||[];// Gamification logic\nconst nextRewardTarget=1000;const progressPercent=Math.min(stats.currentPoints/nextRewardTarget*100,100);return/*#__PURE__*/_jsxs(PageContainer,{children:[/*#__PURE__*/_jsxs(HeroCard,{children:[/*#__PURE__*/_jsxs(WelcomeText,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Hello, \",(user===null||user===void 0?void 0:user.firstName)||'Member',\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Ready to earn some rewards today?\"})]}),/*#__PURE__*/_jsx(ActionGroup,{style:{position:'relative',zIndex:1},children:/*#__PURE__*/_jsxs(ButtonPrimary,{to:\"/surveys\",children:[/*#__PURE__*/_jsx(PlayCircle,{size:20}),\"Start Earning Now\"]})})]}),/*#__PURE__*/_jsxs(StatsGrid,{children:[/*#__PURE__*/_jsxs(StatCard,{index:0,glowColor:\"rgba(147, 51, 234, 0.15)\",children:[/*#__PURE__*/_jsxs(StatHeader,{children:[/*#__PURE__*/_jsx(IconWrapper,{bg:\"#f3e8ff\",color:\"#9333ea\",children:/*#__PURE__*/_jsx(LayoutDashboard,{size:24,strokeWidth:2})}),/*#__PURE__*/_jsxs(TrendBadge,{children:[/*#__PURE__*/_jsx(TrendingUp,{size:14}),\"Total\"]})]}),/*#__PURE__*/_jsxs(StatMain,{children:[/*#__PURE__*/_jsx(StatValue,{children:stats.totalSurveys}),/*#__PURE__*/_jsx(StatLabel,{children:\"Surveys Completed\"})]})]}),/*#__PURE__*/_jsxs(StatCard,{index:1,glowColor:\"rgba(15, 193, 121, 0.15)\",children:[/*#__PURE__*/_jsxs(StatHeader,{children:[/*#__PURE__*/_jsx(IconWrapper,{bg:\"#dcfce7\",color:\"#15803d\",children:/*#__PURE__*/_jsx(Wallet,{size:24,strokeWidth:2})}),/*#__PURE__*/_jsxs(TrendBadge,{$pulse:true,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:6,height:6,borderRadius:'50%',background:'#059669',marginRight:4}}),\"Live\"]})]}),/*#__PURE__*/_jsxs(StatMain,{children:[/*#__PURE__*/_jsx(StatValue,{style:{color:'#059669'},children:stats.currentPoints}),/*#__PURE__*/_jsx(StatLabel,{children:\"Current Balance (Pts)\"})]})]}),/*#__PURE__*/_jsxs(StatCard,{index:2,glowColor:\"rgba(217, 119, 6, 0.15)\",children:[/*#__PURE__*/_jsxs(StatHeader,{children:[/*#__PURE__*/_jsx(IconWrapper,{bg:\"#fef3c7\",color:\"#d97706\",children:/*#__PURE__*/_jsx(Award,{size:24,strokeWidth:2})}),/*#__PURE__*/_jsxs(TrendBadge,{children:[/*#__PURE__*/_jsx(ArrowUpRight,{size:14}),\"Earned\"]})]}),/*#__PURE__*/_jsxs(StatMain,{children:[/*#__PURE__*/_jsx(StatValue,{children:stats.totalPointsEarned}),/*#__PURE__*/_jsx(StatLabel,{children:\"Lifetime Earnings\"})]})]}),/*#__PURE__*/_jsxs(StatCard,{index:3,glowColor:\"rgba(220, 38, 38, 0.15)\",children:[/*#__PURE__*/_jsx(StatHeader,{children:/*#__PURE__*/_jsx(IconWrapper,{bg:\"#fee2e2\",color:\"#dc2626\",children:/*#__PURE__*/_jsx(CreditCard,{size:24,strokeWidth:2})})}),/*#__PURE__*/_jsxs(StatMain,{children:[/*#__PURE__*/_jsxs(StatValue,{children:[\"\\u20B9\",(stats.approvedWithdrawalAmount||0).toLocaleString()]}),/*#__PURE__*/_jsx(StatLabel,{children:\"Total Withdrawn\"})]})]})]}),/*#__PURE__*/_jsxs(MainGrid,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsx(Zap,{size:20}),\"Recommended for You\"]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(ListContainer,{children:recentOpenSurveys.length>0?recentOpenSurveys.slice(0,3).map((survey,index)=>/*#__PURE__*/_jsxs(ListItem,{$clickable:true,onClick:()=>handleSurveyClick(survey.id),children:[/*#__PURE__*/_jsx(ItemIcon,{bg:\"#f0fdf4\",color:\"#0fc179\",children:/*#__PURE__*/_jsx(PlayCircle,{size:20})}),/*#__PURE__*/_jsxs(ItemContent,{children:[/*#__PURE__*/_jsx(\"h4\",{children:survey.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Clock,{size:14}),\" \",survey.estimatedTime,\" min \\u2022 \",survey.category||'General']})]}),/*#__PURE__*/_jsxs(ItemRight,{children:[/*#__PURE__*/_jsxs(Badge,{bg:\"#e6fffa\",color:\"#0fc179\",children:[\"+\",survey.pointsReward,\" pts\"]}),/*#__PURE__*/_jsx(ChevronRight,{size:18,color:\"#cbd5e1\"})]})]},survey.id)):/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(LayoutDashboard,{size:40,strokeWidth:1.5}),/*#__PURE__*/_jsx(\"span\",{children:\"No new surveys available right now.\"})]})}),recentOpenSurveys.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderTop:'1px solid #f1f5f9'},children:/*#__PURE__*/_jsxs(Link,{to:\"/surveys\",style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem',fontSize:'0.875rem',fontWeight:600},children:[\"View All Surveys \",/*#__PURE__*/_jsx(ArrowUpRight,{size:16})]})})]}),/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsx(Clock,{size:20,style:{color:'#0f172a'}}),\"Recent History\"]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(ListContainer,{children:recentCompletedSurveys.length>0?recentCompletedSurveys.slice(0,3).map((survey,index)=>{var _survey$Survey;return/*#__PURE__*/_jsxs(ListItem,{$clickable:false,children:[/*#__PURE__*/_jsx(ItemIcon,{bg:\"#f1f5f9\",color:\"#64748b\",children:/*#__PURE__*/_jsx(Award,{size:20})}),/*#__PURE__*/_jsxs(ItemContent,{children:[/*#__PURE__*/_jsx(\"h4\",{children:((_survey$Survey=survey.Survey)===null||_survey$Survey===void 0?void 0:_survey$Survey.title)||'Completed Survey'}),/*#__PURE__*/_jsx(\"p\",{children:new Date(survey.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(ItemRight,{children:/*#__PURE__*/_jsxs(Badge,{bg:\"#fcf8e3\",color:\"#b45309\",children:[\"+\",survey.pointsEarned,\" pts\"]})})]},index);}):/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(Clock,{size:40,strokeWidth:1.5}),/*#__PURE__*/_jsx(\"span\",{children:\"No recent activity yet. Start a survey!\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"Your Goals\"}),/*#__PURE__*/_jsxs(GoalCard,{children:[/*#__PURE__*/_jsxs(GoalHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(Target,{size:24,color:\"white\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Next Reward\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',color:'rgba(255, 255, 255, 0.8)',marginTop:'2px'},children:\"Track your progress\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:700,fontSize:'1.25rem',color:'white'},children:[Math.round(progressPercent),\"%\"]})]}),/*#__PURE__*/_jsx(ProgressBarContainer,{children:/*#__PURE__*/_jsx(ProgressBarFill,{width:`${progressPercent}%`})}),/*#__PURE__*/_jsxs(GoalMeta,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[stats.currentPoints,\" pts\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Target: \",nextRewardTarget,\" pts\"]})]})]}),/*#__PURE__*/_jsx(SectionTitle,{children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(QuickActionGrid,{children:[/*#__PURE__*/_jsxs(QuickActionButton,{to:\"/rewards\",children:[/*#__PURE__*/_jsx(Gift,{size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"Redeem\"})]}),/*#__PURE__*/_jsxs(QuickActionButton,{to:\"/profile\",children:[/*#__PURE__*/_jsx(CreditCard,{size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"Profile\"})]}),/*#__PURE__*/_jsxs(QuickActionButton,{to:\"/surveys\",children:[/*#__PURE__*/_jsx(Zap,{size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"Surveys\"})]}),/*#__PURE__*/_jsxs(QuickActionButton,{to:\"/payment-history\",children:[/*#__PURE__*/_jsx(Clock,{size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"History\"})]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useNavigate","useSearchParams","useAuth","useSocket","LayoutDashboard","TrendingUp","Wallet","Award","Clock","ChevronRight","PlayCircle","Zap","Gift","ArrowUpRight","CreditCard","Target","axios","styled","keyframes","css","LoadingSpinner","toast","jsx","_jsx","jsxs","_jsxs","PageContainer","div","HeroCard","WelcomeText","ActionGroup","fadeIn","pulse","StatsGrid","StatCard","props","index","StatHeader","IconWrapper","bg","color","StatMain","StatValue","StatLabel","TrendBadge","$pulse","MainGrid","SectionTitle","h2","Card","ListContainer","ListItem","$clickable","ItemIcon","ItemContent","ItemRight","Badge","span","ButtonPrimary","GoalCard","GoalHeader","ProgressBarContainer","ProgressBarFill","width","GoalMeta","QuickActionGrid","QuickActionButton","EmptyState","Dashboard","user","refreshUser","socket","navigate","searchParams","setSearchParams","dashboardData","setDashboardData","loading","setLoading","error","setError","handleSurveyClick","surveyId","fetchDashboardData","response","get","data","success","dashboard","_error$response","_error$response$data","console","message","handlePointsUpdate","reason","info","on","off","completed","refresh","refreshData","newSearchParams","URLSearchParams","delete","replace","style","display","justifyContent","alignItems","children","textAlign","padding","background","borderRadius","onClick","window","location","reload","marginTop","border","cursor","stats","totalSurveys","totalPointsEarned","totalRedemptions","currentPoints","points","approvedWithdrawalAmount","recentCompletedSurveys","recentOpenSurveys","nextRewardTarget","progressPercent","Math","min","firstName","position","zIndex","to","size","glowColor","strokeWidth","height","marginRight","toLocaleString","length","slice","map","survey","id","title","estimatedTime","category","pointsReward","borderTop","gap","fontSize","fontWeight","_survey$Survey","Survey","Date","createdAt","toLocaleDateString","pointsEarned","round"],"sources":["C:/Users/hp/Desktop/ADMINCLIENTPANELDEMO/perfectclone/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useSocket } from '../contexts/SocketContext';\r\nimport {\r\n  LayoutDashboard,\r\n  TrendingUp,\r\n  Wallet,\r\n  Award,\r\n  Clock,\r\n  ChevronRight,\r\n  PlayCircle,\r\n  Zap,\r\n  Gift,\r\n  ArrowUpRight,\r\n  CreditCard,\r\n  Target\r\n} from 'lucide-react';\r\nimport axios from 'axios';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport { toast } from 'react-toastify';\r\n\r\n// --- Styled Components ---\r\n\r\nconst PageContainer = styled.div`\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 1rem 1.5rem;\r\n  font-family: 'Inter', sans-serif;\r\n  color: #1e293b;\r\n  min-height: calc(100vh - 80px);\r\n\r\n  @media (max-width: 1024px) {\r\n    padding: 1rem;\r\n  }\r\n`;\r\n\r\nconst HeroCard = styled.div`\r\n  background: linear-gradient(135deg, #0fc179 0%, #059669 100%);\r\n  border-radius: 16px;\r\n  padding: 1.5rem 2rem;\r\n  color: white;\r\n  margin-bottom: 1.25rem;\r\n  box-shadow: 0 4px 15px -1px rgba(15, 193, 121, 0.3);\r\n  position: relative;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  min-height: 100px;\r\n\r\n  // Abstract shapes\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: -50%;\r\n    right: -10%;\r\n    width: 200px;\r\n    height: 200px;\r\n    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);\r\n    border-radius: 50%;\r\n  }\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -30%;\r\n    left: 10%;\r\n    width: 150px;\r\n    height: 150px;\r\n    background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 70%);\r\n    border-radius: 50%;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1rem;\r\n    padding: 1.25rem;\r\n  }\r\n`;\r\n\r\nconst WelcomeText = styled.div`\r\n  position: relative;\r\n  z-index: 1;\r\n\r\n  h1 {\r\n    font-size: 1.5rem;\r\n    font-weight: 800;\r\n    margin: 0;\r\n    color: white;\r\n    letter-spacing: -0.025em;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  p {\r\n    margin: 0.25rem 0 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n    font-size: 0.9rem;\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nconst ActionGroup = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n`;\r\n\r\n\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; transform: translateY(20px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0% { box-shadow: 0 0 0 0 rgba(15, 193, 121, 0.4); }\r\n  70% { box-shadow: 0 0 0 6px rgba(15, 193, 121, 0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(15, 193, 121, 0); }\r\n`;\r\n\r\nconst StatsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  @media (max-width: 640px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst StatCard = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  padding: 1rem 1.25rem;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #f1f5f9;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n  animation: ${fadeIn} 0.6s ease-out backwards;\r\n  animation-delay: ${props => props.index * 0.1}s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n\r\n  &:hover {\r\n    transform: translateY(-3px) scale(1.02);\r\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n    border-color: #0fc179;\r\n  }\r\n\r\n  /* Decorative sheen effect on hover */\r\n  // ... (kept same but lighter)\r\n`;\r\n\r\nconst StatHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 0.5rem;\r\n  z-index: 1;\r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${props => props.bg || '#f0fdf4'};\r\n  color: ${props => props.color || '#0fc179'};\r\n  font-size: 1.25rem;\r\n  transition: transform 0.3s ease;\r\n  box-shadow: inset 0 2px 4px 0 rgba(255, 255, 255, 0.6);\r\n\r\n  ${StatCard}:hover & {\r\n    transform: rotate(5deg) scale(1.1);\r\n  }\r\n`;\r\n\r\n\r\nconst StatMain = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1;\r\n`;\r\n\r\nconst StatValue = styled.div`\r\n  font-size: 1.75rem;\r\n  font-weight: 800;\r\n  color: #0f172a;\r\n  margin-bottom: 0px;\r\n  letter-spacing: -0.03em;\r\n  line-height: 1.1;\r\n`;\r\n\r\nconst StatLabel = styled.div`\r\n  color: #64748b;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  letter-spacing: -0.01em;\r\n`;\r\n\r\nconst TrendBadge = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.35rem;\r\n  padding: 0.35rem 0.75rem;\r\n  border-radius: 9999px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  background-color: ${props => props.$pulse ? '#ecfdf5' : '#f1f5f9'};\r\n  color: ${props => props.$pulse ? '#059669' : '#475569'};\r\n  border: 1px solid ${props => props.$pulse ? '#d1fae5' : 'transparent'};\r\n  \r\n  ${props => props.$pulse && css`\r\n    animation: ${pulse} 2s infinite;\r\n  `}\r\n`;\r\n\r\nconst MainGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 340px;\r\n  gap: 1.5rem;\r\n  \r\n  @media (max-width: 968px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst SectionTitle = styled.h2`\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  color: #0f172a;\r\n  margin: 1.5rem 0 0.75rem 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n\r\n  svg {\r\n    color: #0fc179;\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #f1f5f9;\r\n  overflow: hidden;\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n`;\r\n\r\nconst ListItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #f1f5f9;\r\n  transition: background-color 0.2s ease;\r\n  cursor: ${props => props.$clickable ? 'pointer' : 'default'};\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${props => props.$clickable ? '#f8fafc' : 'white'};\r\n  }\r\n\r\n  @media (max-width: 640px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n\r\nconst ItemIcon = styled.div`\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 10px;\r\n  background-color: ${props => props.bg || '#f1f5f9'};\r\n  color: ${props => props.color || '#64748b'};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 1rem;\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst ItemContent = styled.div`\r\n  flex: 1;\r\n  \r\n  h4 {\r\n    margin: 0 0 0.25rem 0;\r\n    font-size: 0.95rem;\r\n    font-weight: 600;\r\n    color: #0f172a;\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n    color: #64748b;\r\n    font-size: 0.85rem;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst ItemRight = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n\r\n  @media (max-width: 640px) {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    margin-top: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst Badge = styled.span`\r\n  padding: 0.35rem 0.75rem;\r\n  border-radius: 8px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  background-color: ${props => props.bg || '#f1f5f9'};\r\n  color: ${props => props.color || '#475569'};\r\n`;\r\n\r\nconst ButtonPrimary = styled(Link)`\r\n  background: white;\r\n  color: #0fc179;\r\n  font-weight: 700;\r\n  padding: 0.75rem 1.5rem;\r\n  border-radius: 12px;\r\n  transition: all 0.2s ease;\r\n  font-size: 0.95rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);\r\n    background: #f0fdf4;\r\n    color: #059669;\r\n  }\r\n`;\r\n\r\nconst GoalCard = styled(Card)`\r\n  background: linear-gradient(135deg, #0fc179 0%, #059669 100%);\r\n  color: white;\r\n  border: none;\r\n  padding: 1.5rem;\r\n  box-shadow: 0 10px 15px -3px rgba(15, 193, 121, 0.3);\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst GoalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 1.1rem;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst ProgressBarContainer = styled.div`\r\n  background: rgba(255, 255, 255, 0.1);\r\n  height: 8px;\r\n  border-radius: 4px;\r\n  margin: 1rem 0;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ProgressBarFill = styled.div`\r\n  height: 100%;\r\n  background: white;\r\n  border-radius: 4px;\r\n  width: ${props => props.width || '0%'};\r\n  transition: width 1s ease-out;\r\n`;\r\n\r\nconst GoalMeta = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 0.875rem;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst QuickActionGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 1rem;\r\n`;\r\n\r\nconst QuickActionButton = styled(Link)`\r\n  background: white;\r\n  border: 1px solid #f1f5f9;\r\n  border-radius: 12px;\r\n  padding: 1.25rem;\r\n  text-align: center;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n\r\n  &:hover {\r\n    border-color: #0fc179;\r\n    background: #f0fdf4;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  svg {\r\n    color: #0fc179;\r\n    margin-bottom: 0.25rem;\r\n  }\r\n\r\n  span {\r\n    font-weight: 600;\r\n    font-size: 0.875rem;\r\n    color: #334155;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: 3rem;\r\n  text-align: center;\r\n  color: #94a3b8;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`;\r\n\r\n// --- Dashboard Component ---\r\n\r\nconst Dashboard = () => {\r\n  const { user, refreshUser } = useAuth();\r\n  const { socket } = useSocket();\r\n  const navigate = useNavigate();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSurveyClick = (surveyId) => {\r\n    navigate(`/surveys/${surveyId}`);\r\n  };\r\n\r\n  const fetchDashboardData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const response = await axios.get('/users/dashboard');\r\n      if (response.data.success) {\r\n        setDashboardData(response.data.dashboard);\r\n      } else {\r\n        setError('Failed to load dashboard data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Dashboard fetch error:', error);\r\n      setError('Failed to load dashboard data. Error: ' + (error.response?.data?.message || error.message));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []); // Empty dependency array - function never changes\r\n\r\n  // Initial load only\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchDashboardData();\r\n    }\r\n  }, [user, fetchDashboardData]);\r\n\r\n  // Socket.io listener\r\n  useEffect(() => {\r\n    if (socket && user) {\r\n      const handlePointsUpdate = async (data) => {\r\n        if (data.reason === 'withdrawal_approved') {\r\n          toast.success(data.message);\r\n        } else if (data.reason === 'withdrawal_rejected') {\r\n          toast.info(data.message);\r\n        }\r\n        await refreshUser();\r\n        // fetchDashboardData is stable now\r\n        fetchDashboardData();\r\n      };\r\n\r\n      socket.on('pointsUpdated', handlePointsUpdate);\r\n      return () => socket.off('pointsUpdated', handlePointsUpdate);\r\n    }\r\n  }, [socket, user, refreshUser, fetchDashboardData]);\r\n\r\n  // Handle URL params\r\n  useEffect(() => {\r\n    const completed = searchParams.get('completed');\r\n    const refresh = searchParams.get('refresh');\r\n\r\n    if (completed === 'true' && refresh === 'true') {\r\n      const refreshData = async () => {\r\n        try {\r\n          await refreshUser();\r\n          await fetchDashboardData();\r\n          const newSearchParams = new URLSearchParams(searchParams);\r\n          newSearchParams.delete('completed');\r\n          newSearchParams.delete('refresh');\r\n          setSearchParams(newSearchParams, { replace: true });\r\n        } catch (error) {\r\n          console.error('Error refreshing dashboard data:', error);\r\n        }\r\n      };\r\n      refreshData();\r\n    }\r\n  }, [searchParams, setSearchParams, refreshUser]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <PageContainer style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n        <LoadingSpinner />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <PageContainer>\r\n        <div style={{ textAlign: 'center', padding: '3rem', background: '#fee2e2', borderRadius: '16px', color: '#dc2626' }}>\r\n          <p>{error}</p>\r\n          <button onClick={() => window.location.reload()} style={{ marginTop: '1rem', padding: '0.75rem 1.5rem', background: '#dc2626', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  const stats = dashboardData?.stats || {\r\n    totalSurveys: 0,\r\n    totalPointsEarned: 0,\r\n    totalRedemptions: 0,\r\n    currentPoints: user?.points || 0,\r\n    approvedWithdrawalAmount: 0\r\n  };\r\n\r\n  const recentCompletedSurveys = dashboardData?.recentCompletedSurveys || [];\r\n  const recentOpenSurveys = dashboardData?.recentOpenSurveys || [];\r\n\r\n  // Gamification logic\r\n  const nextRewardTarget = 1000;\r\n  const progressPercent = Math.min((stats.currentPoints / nextRewardTarget) * 100, 100);\r\n\r\n  return (\r\n    <PageContainer>\r\n      <HeroCard>\r\n        <WelcomeText>\r\n          <h1>Hello, {user?.firstName || 'Member'}! ðŸ‘‹</h1>\r\n          <p>Ready to earn some rewards today?</p>\r\n        </WelcomeText>\r\n        <ActionGroup style={{ position: 'relative', zIndex: 1 }}>\r\n          <ButtonPrimary to=\"/surveys\">\r\n            <PlayCircle size={20} />\r\n            Start Earning Now\r\n          </ButtonPrimary>\r\n        </ActionGroup>\r\n      </HeroCard>\r\n\r\n      {/* Hero Stats */}\r\n      {/* Hero Stats */}\r\n      <StatsGrid>\r\n        <StatCard index={0} glowColor=\"rgba(147, 51, 234, 0.15)\">\r\n          <StatHeader>\r\n            <IconWrapper bg=\"#f3e8ff\" color=\"#9333ea\">\r\n              <LayoutDashboard size={24} strokeWidth={2} />\r\n            </IconWrapper>\r\n            <TrendBadge>\r\n              <TrendingUp size={14} />\r\n              Total\r\n            </TrendBadge>\r\n          </StatHeader>\r\n          <StatMain>\r\n            <StatValue>{stats.totalSurveys}</StatValue>\r\n            <StatLabel>Surveys Completed</StatLabel>\r\n          </StatMain>\r\n        </StatCard>\r\n\r\n        <StatCard index={1} glowColor=\"rgba(15, 193, 121, 0.15)\">\r\n          <StatHeader>\r\n            <IconWrapper bg=\"#dcfce7\" color=\"#15803d\">\r\n              <Wallet size={24} strokeWidth={2} />\r\n            </IconWrapper>\r\n            <TrendBadge $pulse>\r\n              <div style={{ width: 6, height: 6, borderRadius: '50%', background: '#059669', marginRight: 4 }}></div>\r\n              Live\r\n            </TrendBadge>\r\n          </StatHeader>\r\n          <StatMain>\r\n            <StatValue style={{ color: '#059669' }}>{stats.currentPoints}</StatValue>\r\n            <StatLabel>Current Balance (Pts)</StatLabel>\r\n          </StatMain>\r\n        </StatCard>\r\n\r\n        <StatCard index={2} glowColor=\"rgba(217, 119, 6, 0.15)\">\r\n          <StatHeader>\r\n            <IconWrapper bg=\"#fef3c7\" color=\"#d97706\">\r\n              <Award size={24} strokeWidth={2} />\r\n            </IconWrapper>\r\n            <TrendBadge>\r\n              <ArrowUpRight size={14} />\r\n              Earned\r\n            </TrendBadge>\r\n          </StatHeader>\r\n          <StatMain>\r\n            <StatValue>{stats.totalPointsEarned}</StatValue>\r\n            <StatLabel>Lifetime Earnings</StatLabel>\r\n          </StatMain>\r\n        </StatCard>\r\n\r\n        <StatCard index={3} glowColor=\"rgba(220, 38, 38, 0.15)\">\r\n          <StatHeader>\r\n            <IconWrapper bg=\"#fee2e2\" color=\"#dc2626\">\r\n              <CreditCard size={24} strokeWidth={2} />\r\n            </IconWrapper>\r\n          </StatHeader>\r\n          <StatMain>\r\n            <StatValue>â‚¹{(stats.approvedWithdrawalAmount || 0).toLocaleString()}</StatValue>\r\n            <StatLabel>Total Withdrawn</StatLabel>\r\n          </StatMain>\r\n        </StatCard>\r\n      </StatsGrid>\r\n\r\n      <MainGrid>\r\n        {/* Left Column: Activity & Surveys */}\r\n        <div>\r\n          {/* Available Surveys Section */}\r\n          <SectionTitle>\r\n            <Zap size={20} />\r\n            Recommended for You\r\n          </SectionTitle>\r\n\r\n          <Card>\r\n            <ListContainer>\r\n              {recentOpenSurveys.length > 0 ? (\r\n                recentOpenSurveys.slice(0, 3).map((survey, index) => (\r\n                  <ListItem\r\n                    key={survey.id}\r\n                    $clickable={true}\r\n                    onClick={() => handleSurveyClick(survey.id)}\r\n                  >\r\n                    <ItemIcon bg=\"#f0fdf4\" color=\"#0fc179\">\r\n                      <PlayCircle size={20} />\r\n                    </ItemIcon>\r\n                    <ItemContent>\r\n                      <h4>{survey.title}</h4>\r\n                      <p>\r\n                        <Clock size={14} /> {survey.estimatedTime} min â€¢ {survey.category || 'General'}\r\n                      </p>\r\n                    </ItemContent>\r\n                    <ItemRight>\r\n                      <Badge bg=\"#e6fffa\" color=\"#0fc179\">+{survey.pointsReward} pts</Badge>\r\n                      <ChevronRight size={18} color=\"#cbd5e1\" />\r\n                    </ItemRight>\r\n                  </ListItem>\r\n                ))\r\n              ) : (\r\n                <EmptyState>\r\n                  <LayoutDashboard size={40} strokeWidth={1.5} />\r\n                  <span>No new surveys available right now.</span>\r\n                </EmptyState>\r\n              )}\r\n            </ListContainer>\r\n            {recentOpenSurveys.length > 0 && (\r\n              <div style={{ padding: '1rem', borderTop: '1px solid #f1f5f9' }}>\r\n                <Link to=\"/surveys\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', fontSize: '0.875rem', fontWeight: 600 }}>\r\n                  View All Surveys <ArrowUpRight size={16} />\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </Card>\r\n\r\n          {/* Recent Activity Section */}\r\n          <SectionTitle>\r\n            <Clock size={20} style={{ color: '#0f172a' }} />\r\n            Recent History\r\n          </SectionTitle>\r\n\r\n          <Card>\r\n            <ListContainer>\r\n              {recentCompletedSurveys.length > 0 ? (\r\n                recentCompletedSurveys.slice(0, 3).map((survey, index) => (\r\n                  <ListItem key={index} $clickable={false}>\r\n                    <ItemIcon bg=\"#f1f5f9\" color=\"#64748b\">\r\n                      <Award size={20} />\r\n                    </ItemIcon>\r\n                    <ItemContent>\r\n                      <h4>{survey.Survey?.title || 'Completed Survey'}</h4>\r\n                      <p>\r\n                        {new Date(survey.createdAt).toLocaleDateString()}\r\n                      </p>\r\n                    </ItemContent>\r\n                    <ItemRight>\r\n                      <Badge bg=\"#fcf8e3\" color=\"#b45309\">+{survey.pointsEarned} pts</Badge>\r\n                    </ItemRight>\r\n                  </ListItem>\r\n                ))\r\n              ) : (\r\n                <EmptyState>\r\n                  <Clock size={40} strokeWidth={1.5} />\r\n                  <span>No recent activity yet. Start a survey!</span>\r\n                </EmptyState>\r\n              )}\r\n            </ListContainer>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Right Column: Goals & Quick Actions */}\r\n        <div>\r\n          <SectionTitle>Your Goals</SectionTitle>\r\n          <GoalCard>\r\n            <GoalHeader>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                <Target size={24} color=\"white\" />\r\n                <div>\r\n                  <h3>Next Reward</h3>\r\n                  <div style={{ fontSize: '0.8rem', color: 'rgba(255, 255, 255, 0.8)', marginTop: '2px' }}>Track your progress</div>\r\n                </div>\r\n              </div>\r\n              <span style={{ fontWeight: 700, fontSize: '1.25rem', color: 'white' }}>{Math.round(progressPercent)}%</span>\r\n            </GoalHeader>\r\n            <ProgressBarContainer>\r\n              <ProgressBarFill width={`${progressPercent}%`} />\r\n            </ProgressBarContainer>\r\n            <GoalMeta>\r\n              <span>{stats.currentPoints} pts</span>\r\n              <span>Target: {nextRewardTarget} pts</span>\r\n            </GoalMeta>\r\n          </GoalCard>\r\n\r\n          <SectionTitle>Quick Actions</SectionTitle>\r\n          <QuickActionGrid>\r\n            <QuickActionButton to=\"/rewards\">\r\n              <Gift size={24} />\r\n              <span>Redeem</span>\r\n            </QuickActionButton>\r\n            <QuickActionButton to=\"/profile\">\r\n              <CreditCard size={24} />\r\n              <span>Profile</span>\r\n            </QuickActionButton>\r\n            <QuickActionButton to=\"/surveys\">\r\n              <Zap size={24} />\r\n              <span>Surveys</span>\r\n            </QuickActionButton>\r\n            <QuickActionButton to=\"/payment-history\">\r\n              <Clock size={24} />\r\n              <span>History</span>\r\n            </QuickActionButton>\r\n          </QuickActionGrid>\r\n        </div>\r\n      </MainGrid>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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AACU,MAAM,EAAI1B,GAAG;AAChC,iBAAiBa,KAAK;AACtB,GAAG;AACH,CAAC,CAED,KAAM,CAAAc,QAAQ,CAAG7B,MAAM,CAACU,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAoB,YAAY,CAAG9B,MAAM,CAAC+B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,IAAI,CAAGhC,MAAM,CAACU,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAuB,aAAa,CAAGjC,MAAM,CAACU,GAAG;AAChC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAwB,QAAQ,CAAGlC,MAAM,CAACU,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,YAAYQ,KAAK,EAAIA,KAAK,CAACiB,UAAU,CAAG,SAAS,CAAG,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBjB,KAAK,EAAIA,KAAK,CAACiB,UAAU,CAAG,SAAS,CAAG,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGpC,MAAM,CAACU,GAAG;AAC3B;AACA;AACA;AACA,sBAAsBQ,KAAK,EAAIA,KAAK,CAACI,EAAE,EAAI,SAAS;AACpD,WAAWJ,KAAK,EAAIA,KAAK,CAACK,KAAK,EAAI,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,WAAW,CAAGrC,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA4B,SAAS,CAAGtC,MAAM,CAACU,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA6B,KAAK,CAAGvC,MAAM,CAACwC,IAAI;AACzB;AACA;AACA;AACA;AACA,sBAAsBtB,KAAK,EAAIA,KAAK,CAACI,EAAE,EAAI,SAAS;AACpD,WAAWJ,KAAK,EAAIA,KAAK,CAACK,KAAK,EAAI,SAAS;AAC5C,CAAC,CAED,KAAM,CAAAkB,aAAa,CAAGzC,MAAM,CAAClB,IAAI,CAAC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA4D,QAAQ,CAAG1C,MAAM,CAACgC,IAAI,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAW,UAAU,CAAG3C,MAAM,CAACU,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkC,oBAAoB,CAAG5C,MAAM,CAACU,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmC,eAAe,CAAG7C,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA,WAAWQ,KAAK,EAAIA,KAAK,CAAC4B,KAAK,EAAI,IAAI;AACvC;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG/C,MAAM,CAACU,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsC,eAAe,CAAGhD,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAuC,iBAAiB,CAAGjD,MAAM,CAAClB,IAAI,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAoE,UAAU,CAAGlD,MAAM,CAACU,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED;AAEA,KAAM,CAAAyC,SAAS,CAAGA,CAAA,GAAM,CACtB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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}