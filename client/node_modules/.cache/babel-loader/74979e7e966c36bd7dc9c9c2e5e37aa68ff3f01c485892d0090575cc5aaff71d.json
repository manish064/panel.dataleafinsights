{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Gift,Wallet,ArrowRight,Zap,CreditCard,TrendingUp,Loader,AlertTriangle,ShoppingCart,User,History,Activity}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{useSocket}from'../contexts/SocketContext';import{useNavigate}from'react-router-dom';import axios from'axios';import styled,{keyframes}from'styled-components';import{toast}from'react-toastify';// --- Styled Components ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fadeIn=keyframes`\n  from { opacity: 0; transform: translateY(10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;const slideIn=keyframes`\n  from { transform: translateX(-10px); opacity: 0; }\n  to { transform: translateX(0); opacity: 1; }\n`;const scaleIn=keyframes`\n  from { transform: scale(0.95); opacity: 0; }\n  to { transform: scale(1); opacity: 1; }\n`;const PageContainer=styled.div`\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 0.75rem 1.25rem;\n  font-family: 'Inter', sans-serif;\n  color: #1e293b;\n  min-height: calc(100vh - 80px);\n\n  @media (max-width: 768px) {\n    padding: 0.75rem;\n  }\n`;const FinanceSection=styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1.2fr;\n  gap: 0.85rem;\n  margin-bottom: 1rem;\n  animation: ${fadeIn} 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n\n  @media (max-width: 968px) {\n    grid-template-columns: 1fr;\n    gap: 0.65rem;\n  }\n`;const Card=styled.div`\n  background: white;\n  border-radius: 16px;\n  border: 1px solid #e2e8f0;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08);\n    border-color: #0fc179;\n    transform: translateY(-2px);\n  }\n`;// Balance Card Styles\nconst BalanceCard=styled(Card)`\n  padding: 1rem;\n  background: white;\n  justify-content: space-between;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4px;\n    background: linear-gradient(90deg, #0fc179, #059669);\n  }\n`;const BalanceHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.75rem;\n\n  h2 {\n    font-size: 0.95rem;\n    font-weight: 700;\n    color: #0f172a;\n    margin: 0 0 0.15rem 0;\n    display: flex;\n    align-items: center;\n    gap: 0.35rem;\n  }\n\n  span.subtitle {\n    font-size: 0.75rem;\n    color: #64748b;\n  }\n\n  div.icon-circle {\n    width: 32px;\n    height: 32px;\n    border-radius: 8px;\n    background: #ecfdf5;\n    color: #059669;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.3s ease;\n\n    ${BalanceCard}:hover & {\n      transform: rotate(10deg);\n      background: #0fc179;\n      color: white;\n    }\n  }\n`;const BalanceAmount=styled.div`\n  div.main {\n    font-size: 1.9rem;\n    font-weight: 800;\n    color: #0f172a;\n    letter-spacing: -0.04em;\n    line-height: 1;\n    margin-bottom: 0.5rem;\n    \n    span {\n      font-size: 1rem;\n      color: #059669;\n      margin-left: 0.2rem;\n    }\n  }\n\n  div.secondary {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.35rem;\n    padding: 0.35rem 0.65rem;\n    background: #f8fafc;\n    border: 1px solid #e2e8f0;\n    border-radius: 8px;\n    font-size: 0.8rem;\n    color: #334155;\n    font-weight: 600;\n\n    svg {\n      color: #059669;\n    }\n  }\n`;// Withdrawal Card Styles\nconst WithdrawalCard=styled(Card)`\n  padding: 1rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.25rem;\n  align-items: center;\n  background: white;\n\n  @media (max-width: 640px) {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n`;const WithdrawalInfo=styled.div`\n  h2 {\n    font-size: 0.95rem;\n    font-weight: 700;\n    color: #0f172a;\n    margin: 0 0 0.35rem 0;\n    display: flex;\n    align-items: center;\n    gap: 0.35rem;\n  }\n\n  p {\n    font-size: 0.8rem;\n    color: #64748b;\n    line-height: 1.4;\n    margin: 0 0 1rem 0;\n  }\n\n  div.bank-status {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem;\n    background: #f8fafc;\n    border-radius: 8px;\n    border: 1px solid #f1f5f9;\n\n    div.icon {\n      width: 26px;\n      height: 26px;\n      border-radius: 6px;\n      background: #e2e8f0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #64748b;\n      \n      &.active {\n        background: #ecfdf5;\n        color: #059669;\n      }\n    }\n\n    div.details {\n      flex: 1;\n      \n      strong {\n        display: block;\n        font-size: 0.75rem;\n        color: #0f172a;\n      }\n      span {\n        font-size: 0.68rem;\n        color: #64748b;\n      }\n    }\n  }\n`;const WithdrawalForm=styled.div`\n  background: #f8fafc;\n  padding: 0.85rem;\n  border-radius: 8px;\n  border: 1px solid #f1f5f9;\n  transition: all 0.3s ease;\n\n  &:focus-within {\n    background: white;\n    border-color: #0fc179;\n    box-shadow: 0 4px 12px rgba(15, 193, 121, 0.1);\n  }\n\n  label {\n    display: block;\n    font-size: 0.7rem;\n    font-weight: 600;\n    color: #475569;\n    margin-bottom: 0.35rem;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n  }\n\n  div.input-group {\n    position: relative;\n    margin-bottom: 0.75rem;\n\n    input {\n      width: 100%;\n      padding: 0.6rem 0.6rem 0.6rem 2.1rem;\n      border-radius: 8px;\n      border: 1px solid #cbd5e1;\n      font-size: 0.9rem;\n      color: #0f172a;\n      font-weight: 600;\n      outline: none;\n      transition: all 0.2s;\n      background: white;\n\n      &:focus {\n        border-color: #0fc179;\n      }\n    }\n\n    svg {\n      position: absolute;\n      left: 0.7rem;\n      top: 50%;\n      transform: translateY(-50%);\n      color: #94a3b8;\n      transition: color 0.2s;\n    }\n\n    input:focus + svg {\n      color: #0fc179;\n    }\n  }\n\n  div.summary {\n    display: flex;\n    justify-content: space-between;\n    font-size: 0.75rem;\n    color: #64748b;\n    margin-bottom: 0.75rem;\n    padding-bottom: 0.75rem;\n    border-bottom: 1px dashed #e2e8f0;\n  }\n`;const Button=styled.button`\n  width: ${props=>props.$full?'100%':'auto'};\n  background: ${props=>props.$disabled?'#e2e8f0':'#0fc179'};\n  color: ${props=>props.$disabled?'#94a3b8':'white'};\n  border: none;\n  padding: 0.6rem 1rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 0.8rem;\n  cursor: ${props=>props.$disabled?'not-allowed':'pointer'};\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.35rem;\n\n  &:hover {\n    background: ${props=>props.$disabled?'#e2e8f0':'#059669'};\n    transform: ${props=>props.$disabled?'none':'translateY(-1px)'};\n  }\n`;// Rewards Grid Section\nconst SectionTitle=styled.h3`\n  font-size: 0.95rem;\n  font-weight: 700;\n  color: #0f172a;\n  margin: 0 0 0.65rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.35rem;\n  animation: ${slideIn} 0.4s ease-out;\n  \n  svg {\n    color: #0fc179;\n  }\n`;const Grid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n  gap: 0.85rem;\n  animation: ${fadeIn} 0.6s ease-out;\n`;const RewardCard=styled.div`\n  background: white;\n  border-radius: 10px;\n  overflow: hidden;\n  border: 1px solid #cbd5e1;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  display: flex;\n  flex-direction: column;\n  animation: ${scaleIn} 0.5s ease-out backwards;\n  animation-delay: ${props=>props.$index?`${props.$index*0.05}s`:'0s'};\n\n  &:hover {\n    transform: translateY(-4px) scale(1.02);\n    box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15), 0 4px 8px -2px rgba(15, 193, 121, 0.1);\n    border-color: #0fc179;\n    \n    div.image-overlay {\n      opacity: 1;\n    }\n  }\n`;const CardImage=styled.div`\n  height: 90px;\n  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-bottom: 1px solid #cbd5e1;\n  transition: all 0.3s ease;\n\n  svg.reward-icon {\n    width: 36px;\n    height: 36px;\n    color: #94a3b8;\n    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  span.brand {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    background: white;\n    padding: 0.15rem 0.5rem;\n    border-radius: 9999px;\n    font-size: 0.6rem;\n    font-weight: 700;\n    color: #334155;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.08);\n    z-index: 2;\n    transition: all 0.3s ease;\n  }\n\n  ${RewardCard}:hover & {\n    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);\n    \n    svg.reward-icon {\n      transform: scale(1.15) rotate(5deg);\n      color: #059669;\n    }\n    \n    span.brand {\n      transform: scale(1.05);\n      box-shadow: 0 4px 8px rgba(0,0,0,0.12);\n    }\n  }\n`;const CardBody=styled.div`\n  padding: 0.75rem 0.85rem;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s ease;\n\n  h4 {\n    margin: 0 0 0.15rem 0;\n    font-size: 0.85rem;\n    font-weight: 700;\n    color: #1e293b;\n    transition: color 0.3s ease;\n  }\n\n  p {\n    color: #475569;\n    font-size: 0.75rem;\n    margin: 0 0 0.75rem 0;\n    line-height: 1.4;\n    flex: 1;\n    transition: color 0.3s ease;\n  }\n  \n  ${RewardCard}:hover & {\n    h4 {\n      color: #0f172a;\n    }\n    \n    p {\n      color: #334155;\n    }\n  }\n`;const CardFooter=styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: auto;\n  padding-top: 0.65rem;\n  border-top: 1px solid #e2e8f0;\n  transition: all 0.3s ease;\n  \n  div.cost {\n    display: flex;\n    align-items: center;\n    gap: 0.15rem;\n    color: #059669;\n    font-weight: 700;\n    font-size: 0.8rem;\n    transition: all 0.3s ease;\n  }\n  \n  ${RewardCard}:hover & {\n    border-top-color: #cbd5e1;\n    \n    div.cost {\n      color: #0fc179;\n      transform: scale(1.05);\n    }\n  }\n`;const ActionIcon=styled.button`\n  width: 30px;\n  height: 30px;\n  border-radius: 8px;\n  border: none;\n  background: ${props=>props.$disabled?'#f1f5f9':'#ecfdf5'};\n  color: ${props=>props.$disabled?'#94a3b8':'#059669'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: ${props=>props.$disabled?'not-allowed':'pointer'};\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    background: ${props=>props.$disabled?'#f1f5f9':'#0fc179'};\n    color: ${props=>props.$disabled?'#94a3b8':'white'};\n    transform: ${props=>props.$disabled?'none':'scale(1.1) rotate(5deg)'};\n    box-shadow: ${props=>props.$disabled?'none':'0 4px 8px rgba(15, 193, 121, 0.2)'};\n  }\n  \n  &:active {\n    transform: ${props=>props.$disabled?'none':'scale(0.95)'};\n  }\n`;const EmptyState=styled.div`\n  grid-column: 1 / -1;\n  text-align: center;\n  padding: 1.75rem;\n  background: #f8fafc;\n  border-radius: 10px;\n  border: 1px dashed #cbd5e1;\n\n  svg {\n    color: #94a3b8;\n    margin-bottom: 0.5rem;\n  }\n  \n  p {\n    color: #64748b;\n    font-size: 0.8rem;\n  }\n`;const Rewards=()=>{const{user,refreshUser}=useAuth();const{socket}=useSocket();const navigate=useNavigate();const[rewards,setRewards]=useState([]);const[rewardsLoading,setRewardsLoading]=useState(true);const[redeeming,setRedeeming]=useState(null);const[withdrawalAmount,setWithdrawalAmount]=useState('');const[withdrawalLoading,setWithdrawalLoading]=useState(false);useEffect(()=>{fetchRewards();},[]);useEffect(()=>{if(socket&&user){const handlePointsUpdate=data=>{if(data.reason==='withdrawal_approved'){toast.success(`Withdrawal approved! ${Math.abs(data.change)} points deducted.`);}else if(data.reason==='withdrawal_rejected'){toast.info(`Withdrawal rejected. ${data.change} points restored.`);}refreshUser();};socket.on('pointsUpdated',handlePointsUpdate);return()=>socket.off('pointsUpdated',handlePointsUpdate);}},[socket,user,refreshUser]);const fetchRewards=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('/users/rewards',{headers:{Authorization:`Bearer ${token}`}});if(response.data.success){setRewards(response.data.rewards||[]);}}catch(error){console.error('Error fetching rewards:',error);}finally{setRewardsLoading(false);}};const handleRedeem=async rewardId=>{try{setRedeeming(rewardId);const token=localStorage.getItem('token');const response=await axios.post(`/users/rewards/${rewardId}/redeem`,{},{headers:{Authorization:`Bearer ${token}`}});if(response.data.success){toast.success('Redeemed successfully! Check your email.');refreshUser();fetchRewards();}}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to redeem');}finally{setRedeeming(null);}};const handleWithdrawalRequest=async()=>{try{setWithdrawalLoading(true);const token=localStorage.getItem('token');const response=await axios.post('/users/withdrawal-request',{amount:parseInt(withdrawalAmount)},{headers:{Authorization:`Bearer ${token}`}});if(response.data.success){toast.success('Withdrawal request submitted!');setWithdrawalAmount('');refreshUser();}}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to submit request');}finally{setWithdrawalLoading(false);}};const totalPoints=(user===null||user===void 0?void 0:user.points)||0;const inrValue=totalPoints;return/*#__PURE__*/_jsxs(PageContainer,{children:[/*#__PURE__*/_jsxs(FinanceSection,{children:[/*#__PURE__*/_jsxs(BalanceCard,{children:[/*#__PURE__*/_jsxs(BalanceHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Balance\"}),/*#__PURE__*/_jsx(\"span\",{className:\"subtitle\",children:\"Total available earnings\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-circle\",children:/*#__PURE__*/_jsx(TrendingUp,{size:20})})]}),/*#__PURE__*/_jsxs(BalanceAmount,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[totalPoints.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{children:\"pts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"secondary\",children:[/*#__PURE__*/_jsx(Zap,{size:14,fill:\"#059669\"}),\"\\u2248 \\u20B9\",inrValue.toLocaleString(),\" INR\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(Button,{style:{background:'#0f172a',flex:1,fontSize:'0.85rem'},onClick:()=>navigate('/payment-history'),children:[/*#__PURE__*/_jsx(History,{size:16}),\" History\"]}),/*#__PURE__*/_jsxs(Button,{style:{background:'#f1f5f9',color:'#0f172a',flex:1,fontSize:'0.85rem'},onClick:()=>navigate('/surveys'),children:[/*#__PURE__*/_jsx(Activity,{size:16}),\" Earn\"]})]})]}),/*#__PURE__*/_jsxs(WithdrawalCard,{children:[/*#__PURE__*/_jsxs(WithdrawalInfo,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(Wallet,{size:20}),\" Cash Withdrawal\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Transfer earnings to your bank account instantly. Minimum: 100 pts.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-status\",children:[/*#__PURE__*/_jsx(\"div\",{className:`icon ${user!==null&&user!==void 0&&user.accountNumber?'active':''}`,children:/*#__PURE__*/_jsx(CreditCard,{size:18})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"strong\",{children:user!==null&&user!==void 0&&user.accountNumber?'Bank Connected':'No Account Linked'}),/*#__PURE__*/_jsx(\"span\",{children:user!==null&&user!==void 0&&user.accountNumber?`Ends in ••••${user.accountNumber.slice(-4)}`:'Link account to withdraw'})]})]})]}),/*#__PURE__*/_jsx(WithdrawalForm,{children:!(user!==null&&user!==void 0&&user.accountNumber)?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.85rem',color:'#64748b',marginBottom:'1rem'},children:\"Please connect a bank account\"}),/*#__PURE__*/_jsxs(Button,{$full:true,onClick:()=>navigate('/profile'),children:[/*#__PURE__*/_jsx(User,{size:16}),\" Link Now\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount to Withdraw\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Points\",min:\"100\",value:withdrawalAmount,onChange:e=>setWithdrawalAmount(e.target.value)}),/*#__PURE__*/_jsx(Wallet,{size:16})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Receive:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'600',color:'#0f172a'},children:[\"\\u20B9\",withdrawalAmount||0]})]}),/*#__PURE__*/_jsxs(Button,{$full:true,onClick:handleWithdrawalRequest,$disabled:withdrawalLoading||!withdrawalAmount||withdrawalAmount<100||withdrawalAmount>totalPoints,children:[withdrawalLoading?/*#__PURE__*/_jsx(Loader,{className:\"spin\",size:16}):/*#__PURE__*/_jsx(ArrowRight,{size:16}),withdrawalLoading?'Processing':'Withdraw']})]})})]})]}),/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsx(Gift,{size:20}),\" Available Rewards\"]}),rewardsLoading?/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(Loader,{size:32,style:{animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'0.5rem'},children:\"Loading rewards...\"})]}):rewards.length>0?/*#__PURE__*/_jsx(Grid,{children:rewards.map(reward=>{const canAfford=totalPoints>=reward.pointsCost;const isRedeeming=redeeming===reward.id;return/*#__PURE__*/_jsxs(RewardCard,{children:[/*#__PURE__*/_jsxs(CardImage,{children:[/*#__PURE__*/_jsx(Gift,{className:\"reward-icon\"}),reward.brand&&/*#__PURE__*/_jsx(\"span\",{className:\"brand\",children:reward.brand})]}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"h4\",{children:reward.name}),/*#__PURE__*/_jsx(\"p\",{children:reward.description}),/*#__PURE__*/_jsxs(CardFooter,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cost\",children:[/*#__PURE__*/_jsx(Zap,{size:14,fill:\"#059669\"}),\" \",reward.pointsCost]}),/*#__PURE__*/_jsx(ActionIcon,{$disabled:!canAfford||isRedeeming,onClick:()=>handleRedeem(reward.id),children:isRedeeming?/*#__PURE__*/_jsx(Loader,{size:18,className:\"spin\"}):/*#__PURE__*/_jsx(ShoppingCart,{size:18})})]})]})]},reward.id);})}):/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(Gift,{size:40}),/*#__PURE__*/_jsx(\"p\",{children:\"No rewards available yet.\"})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n        .spin { animation: spin 1s linear infinite; }\n        @keyframes spin { 100% { transform: rotate(360deg); } }\n      `})]});};export default Rewards;","map":{"version":3,"names":["React","useState","useEffect","Gift","Wallet","ArrowRight","Zap","CreditCard","TrendingUp","Loader","AlertTriangle","ShoppingCart","User","History","Activity","useAuth","useSocket","useNavigate","axios","styled","keyframes","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fadeIn","slideIn","scaleIn","PageContainer","div","FinanceSection","Card","BalanceCard","BalanceHeader","BalanceAmount","WithdrawalCard","WithdrawalInfo","WithdrawalForm","Button","button","props","$full","$disabled","SectionTitle","h3","Grid","RewardCard","$index","CardImage","CardBody","CardFooter","ActionIcon","EmptyState","Rewards","user","refreshUser","socket","navigate","rewards","setRewards","rewardsLoading","setRewardsLoading","redeeming","setRedeeming","withdrawalAmount","setWithdrawalAmount","withdrawalLoading","setWithdrawalLoading","fetchRewards","handlePointsUpdate","data","reason","success","Math","abs","change","info","on","off","token","localStorage","getItem","response","get","headers","Authorization","error","console","handleRedeem","rewardId","post","_error$response","_error$response$data","message","handleWithdrawalRequest","amount","parseInt","_error$response2","_error$response2$data","totalPoints","points","inrValue","children","className","size","toLocaleString","fill","style","marginTop","display","gap","background","flex","fontSize","onClick","color","accountNumber","slice","textAlign","marginBottom","type","placeholder","min","value","onChange","e","target","fontWeight","animation","length","map","reward","canAfford","pointsCost","isRedeeming","id","brand","name","description"],"sources":["C:/Users/hp/Desktop/ADMINCLIENTPANELDEMO/perfectclone/client/src/pages/Rewards.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Gift,\r\n  Wallet,\r\n  ArrowRight,\r\n  Zap,\r\n  CreditCard,\r\n  TrendingUp,\r\n  Loader,\r\n  AlertTriangle,\r\n  ShoppingCart,\r\n  User,\r\n  History,\r\n  Activity\r\n} from 'lucide-react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useSocket } from '../contexts/SocketContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { toast } from 'react-toastify';\r\n\r\n// --- Styled Components ---\r\n\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; transform: translateY(10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from { transform: translateX(-10px); opacity: 0; }\r\n  to { transform: translateX(0); opacity: 1; }\r\n`;\r\n\r\nconst scaleIn = keyframes`\r\n  from { transform: scale(0.95); opacity: 0; }\r\n  to { transform: scale(1); opacity: 1; }\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 0.75rem 1.25rem;\r\n  font-family: 'Inter', sans-serif;\r\n  color: #1e293b;\r\n  min-height: calc(100vh - 80px);\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 0.75rem;\r\n  }\r\n`;\r\n\r\nconst FinanceSection = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1.2fr;\r\n  gap: 0.85rem;\r\n  margin-bottom: 1rem;\r\n  animation: ${fadeIn} 0.5s cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  @media (max-width: 968px) {\r\n    grid-template-columns: 1fr;\r\n    gap: 0.65rem;\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  border: 1px solid #e2e8f0;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &:hover {\r\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08);\r\n    border-color: #0fc179;\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\n// Balance Card Styles\r\nconst BalanceCard = styled(Card)`\r\n  padding: 1rem;\r\n  background: white;\r\n  justify-content: space-between;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, #0fc179, #059669);\r\n  }\r\n`;\r\n\r\nconst BalanceHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 0.75rem;\r\n\r\n  h2 {\r\n    font-size: 0.95rem;\r\n    font-weight: 700;\r\n    color: #0f172a;\r\n    margin: 0 0 0.15rem 0;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.35rem;\r\n  }\r\n\r\n  span.subtitle {\r\n    font-size: 0.75rem;\r\n    color: #64748b;\r\n  }\r\n\r\n  div.icon-circle {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 8px;\r\n    background: #ecfdf5;\r\n    color: #059669;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: transform 0.3s ease;\r\n\r\n    ${BalanceCard}:hover & {\r\n      transform: rotate(10deg);\r\n      background: #0fc179;\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst BalanceAmount = styled.div`\r\n  div.main {\r\n    font-size: 1.9rem;\r\n    font-weight: 800;\r\n    color: #0f172a;\r\n    letter-spacing: -0.04em;\r\n    line-height: 1;\r\n    margin-bottom: 0.5rem;\r\n    \r\n    span {\r\n      font-size: 1rem;\r\n      color: #059669;\r\n      margin-left: 0.2rem;\r\n    }\r\n  }\r\n\r\n  div.secondary {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 0.35rem;\r\n    padding: 0.35rem 0.65rem;\r\n    background: #f8fafc;\r\n    border: 1px solid #e2e8f0;\r\n    border-radius: 8px;\r\n    font-size: 0.8rem;\r\n    color: #334155;\r\n    font-weight: 600;\r\n\r\n    svg {\r\n      color: #059669;\r\n    }\r\n  }\r\n`;\r\n\r\n// Withdrawal Card Styles\r\nconst WithdrawalCard = styled(Card)`\r\n  padding: 1rem;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1.25rem;\r\n  align-items: center;\r\n  background: white;\r\n\r\n  @media (max-width: 640px) {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n\r\nconst WithdrawalInfo = styled.div`\r\n  h2 {\r\n    font-size: 0.95rem;\r\n    font-weight: 700;\r\n    color: #0f172a;\r\n    margin: 0 0 0.35rem 0;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.35rem;\r\n  }\r\n\r\n  p {\r\n    font-size: 0.8rem;\r\n    color: #64748b;\r\n    line-height: 1.4;\r\n    margin: 0 0 1rem 0;\r\n  }\r\n\r\n  div.bank-status {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    padding: 0.5rem;\r\n    background: #f8fafc;\r\n    border-radius: 8px;\r\n    border: 1px solid #f1f5f9;\r\n\r\n    div.icon {\r\n      width: 26px;\r\n      height: 26px;\r\n      border-radius: 6px;\r\n      background: #e2e8f0;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: #64748b;\r\n      \r\n      &.active {\r\n        background: #ecfdf5;\r\n        color: #059669;\r\n      }\r\n    }\r\n\r\n    div.details {\r\n      flex: 1;\r\n      \r\n      strong {\r\n        display: block;\r\n        font-size: 0.75rem;\r\n        color: #0f172a;\r\n      }\r\n      span {\r\n        font-size: 0.68rem;\r\n        color: #64748b;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst WithdrawalForm = styled.div`\r\n  background: #f8fafc;\r\n  padding: 0.85rem;\r\n  border-radius: 8px;\r\n  border: 1px solid #f1f5f9;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus-within {\r\n    background: white;\r\n    border-color: #0fc179;\r\n    box-shadow: 0 4px 12px rgba(15, 193, 121, 0.1);\r\n  }\r\n\r\n  label {\r\n    display: block;\r\n    font-size: 0.7rem;\r\n    font-weight: 600;\r\n    color: #475569;\r\n    margin-bottom: 0.35rem;\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.05em;\r\n  }\r\n\r\n  div.input-group {\r\n    position: relative;\r\n    margin-bottom: 0.75rem;\r\n\r\n    input {\r\n      width: 100%;\r\n      padding: 0.6rem 0.6rem 0.6rem 2.1rem;\r\n      border-radius: 8px;\r\n      border: 1px solid #cbd5e1;\r\n      font-size: 0.9rem;\r\n      color: #0f172a;\r\n      font-weight: 600;\r\n      outline: none;\r\n      transition: all 0.2s;\r\n      background: white;\r\n\r\n      &:focus {\r\n        border-color: #0fc179;\r\n      }\r\n    }\r\n\r\n    svg {\r\n      position: absolute;\r\n      left: 0.7rem;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      color: #94a3b8;\r\n      transition: color 0.2s;\r\n    }\r\n\r\n    input:focus + svg {\r\n      color: #0fc179;\r\n    }\r\n  }\r\n\r\n  div.summary {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 0.75rem;\r\n    color: #64748b;\r\n    margin-bottom: 0.75rem;\r\n    padding-bottom: 0.75rem;\r\n    border-bottom: 1px dashed #e2e8f0;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: ${props => props.$full ? '100%' : 'auto'};\r\n  background: ${props => props.$disabled ? '#e2e8f0' : '#0fc179'};\r\n  color: ${props => props.$disabled ? '#94a3b8' : 'white'};\r\n  border: none;\r\n  padding: 0.6rem 1rem;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 0.8rem;\r\n  cursor: ${props => props.$disabled ? 'not-allowed' : 'pointer'};\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.35rem;\r\n\r\n  &:hover {\r\n    background: ${props => props.$disabled ? '#e2e8f0' : '#059669'};\r\n    transform: ${props => props.$disabled ? 'none' : 'translateY(-1px)'};\r\n  }\r\n`;\r\n\r\n// Rewards Grid Section\r\nconst SectionTitle = styled.h3`\r\n  font-size: 0.95rem;\r\n  font-weight: 700;\r\n  color: #0f172a;\r\n  margin: 0 0 0.65rem 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.35rem;\r\n  animation: ${slideIn} 0.4s ease-out;\r\n  \r\n  svg {\r\n    color: #0fc179;\r\n  }\r\n`;\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\r\n  gap: 0.85rem;\r\n  animation: ${fadeIn} 0.6s ease-out;\r\n`;\r\n\r\nconst RewardCard = styled.div`\r\n  background: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  border: 1px solid #cbd5e1;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  animation: ${scaleIn} 0.5s ease-out backwards;\r\n  animation-delay: ${props => props.$index ? `${props.$index * 0.05}s` : '0s'};\r\n\r\n  &:hover {\r\n    transform: translateY(-4px) scale(1.02);\r\n    box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15), 0 4px 8px -2px rgba(15, 193, 121, 0.1);\r\n    border-color: #0fc179;\r\n    \r\n    div.image-overlay {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CardImage = styled.div`\r\n  height: 90px;\r\n  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  border-bottom: 1px solid #cbd5e1;\r\n  transition: all 0.3s ease;\r\n\r\n  svg.reward-icon {\r\n    width: 36px;\r\n    height: 36px;\r\n    color: #94a3b8;\r\n    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n\r\n  span.brand {\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    right: 0.5rem;\r\n    background: white;\r\n    padding: 0.15rem 0.5rem;\r\n    border-radius: 9999px;\r\n    font-size: 0.6rem;\r\n    font-weight: 700;\r\n    color: #334155;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,0.08);\r\n    z-index: 2;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  ${RewardCard}:hover & {\r\n    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);\r\n    \r\n    svg.reward-icon {\r\n      transform: scale(1.15) rotate(5deg);\r\n      color: #059669;\r\n    }\r\n    \r\n    span.brand {\r\n      transform: scale(1.05);\r\n      box-shadow: 0 4px 8px rgba(0,0,0,0.12);\r\n    }\r\n  }\r\n`;\r\n\r\nconst CardBody = styled.div`\r\n  padding: 0.75rem 0.85rem;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: all 0.3s ease;\r\n\r\n  h4 {\r\n    margin: 0 0 0.15rem 0;\r\n    font-size: 0.85rem;\r\n    font-weight: 700;\r\n    color: #1e293b;\r\n    transition: color 0.3s ease;\r\n  }\r\n\r\n  p {\r\n    color: #475569;\r\n    font-size: 0.75rem;\r\n    margin: 0 0 0.75rem 0;\r\n    line-height: 1.4;\r\n    flex: 1;\r\n    transition: color 0.3s ease;\r\n  }\r\n  \r\n  ${RewardCard}:hover & {\r\n    h4 {\r\n      color: #0f172a;\r\n    }\r\n    \r\n    p {\r\n      color: #334155;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CardFooter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: auto;\r\n  padding-top: 0.65rem;\r\n  border-top: 1px solid #e2e8f0;\r\n  transition: all 0.3s ease;\r\n  \r\n  div.cost {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.15rem;\r\n    color: #059669;\r\n    font-weight: 700;\r\n    font-size: 0.8rem;\r\n    transition: all 0.3s ease;\r\n  }\r\n  \r\n  ${RewardCard}:hover & {\r\n    border-top-color: #cbd5e1;\r\n    \r\n    div.cost {\r\n      color: #0fc179;\r\n      transform: scale(1.05);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ActionIcon = styled.button`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  background: ${props => props.$disabled ? '#f1f5f9' : '#ecfdf5'};\r\n  color: ${props => props.$disabled ? '#94a3b8' : '#059669'};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: ${props => props.$disabled ? 'not-allowed' : 'pointer'};\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    background: ${props => props.$disabled ? '#f1f5f9' : '#0fc179'};\r\n    color: ${props => props.$disabled ? '#94a3b8' : 'white'};\r\n    transform: ${props => props.$disabled ? 'none' : 'scale(1.1) rotate(5deg)'};\r\n    box-shadow: ${props => props.$disabled ? 'none' : '0 4px 8px rgba(15, 193, 121, 0.2)'};\r\n  }\r\n  \r\n  &:active {\r\n    transform: ${props => props.$disabled ? 'none' : 'scale(0.95)'};\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 1.75rem;\r\n  background: #f8fafc;\r\n  border-radius: 10px;\r\n  border: 1px dashed #cbd5e1;\r\n\r\n  svg {\r\n    color: #94a3b8;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  \r\n  p {\r\n    color: #64748b;\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nconst Rewards = () => {\r\n  const { user, refreshUser } = useAuth();\r\n  const { socket } = useSocket();\r\n  const navigate = useNavigate();\r\n\r\n  const [rewards, setRewards] = useState([]);\r\n  const [rewardsLoading, setRewardsLoading] = useState(true);\r\n  const [redeeming, setRedeeming] = useState(null);\r\n  const [withdrawalAmount, setWithdrawalAmount] = useState('');\r\n  const [withdrawalLoading, setWithdrawalLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchRewards();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (socket && user) {\r\n      const handlePointsUpdate = (data) => {\r\n        if (data.reason === 'withdrawal_approved') {\r\n          toast.success(`Withdrawal approved! ${Math.abs(data.change)} points deducted.`);\r\n        } else if (data.reason === 'withdrawal_rejected') {\r\n          toast.info(`Withdrawal rejected. ${data.change} points restored.`);\r\n        }\r\n        refreshUser();\r\n      };\r\n\r\n      socket.on('pointsUpdated', handlePointsUpdate);\r\n      return () => socket.off('pointsUpdated', handlePointsUpdate);\r\n    }\r\n  }, [socket, user, refreshUser]);\r\n\r\n  const fetchRewards = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get('/users/rewards', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      if (response.data.success) {\r\n        setRewards(response.data.rewards || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching rewards:', error);\r\n    } finally {\r\n      setRewardsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRedeem = async (rewardId) => {\r\n    try {\r\n      setRedeeming(rewardId);\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.post(\r\n        `/users/rewards/${rewardId}/redeem`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        toast.success('Redeemed successfully! Check your email.');\r\n        refreshUser();\r\n        fetchRewards();\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to redeem');\r\n    } finally {\r\n      setRedeeming(null);\r\n    }\r\n  };\r\n\r\n  const handleWithdrawalRequest = async () => {\r\n    try {\r\n      setWithdrawalLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.post(\r\n        '/users/withdrawal-request',\r\n        { amount: parseInt(withdrawalAmount) },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        toast.success('Withdrawal request submitted!');\r\n        setWithdrawalAmount('');\r\n        refreshUser();\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to submit request');\r\n    } finally {\r\n      setWithdrawalLoading(false);\r\n    }\r\n  };\r\n\r\n  const totalPoints = user?.points || 0;\r\n  const inrValue = totalPoints;\r\n\r\n  return (\r\n    <PageContainer>\r\n      {/* 1. Finance Section: Balance + Withdrawal Side-by-Side */}\r\n      <FinanceSection>\r\n        {/* Left: Balance Dashboard */}\r\n        <BalanceCard>\r\n          <BalanceHeader>\r\n            <div>\r\n              <h2>My Balance</h2>\r\n              <span className=\"subtitle\">Total available earnings</span>\r\n            </div>\r\n            <div className=\"icon-circle\">\r\n              <TrendingUp size={20} />\r\n            </div>\r\n          </BalanceHeader>\r\n\r\n          <BalanceAmount>\r\n            <div className=\"main\">\r\n              {totalPoints.toLocaleString()}<span>pts</span>\r\n            </div>\r\n            <div className=\"secondary\">\r\n              <Zap size={14} fill=\"#059669\" />\r\n              ≈ ₹{inrValue.toLocaleString()} INR\r\n            </div>\r\n          </BalanceAmount>\r\n\r\n          <div style={{ marginTop: '1.5rem', display: 'flex', gap: '0.75rem' }}>\r\n            <Button\r\n              style={{ background: '#0f172a', flex: 1, fontSize: '0.85rem' }}\r\n              onClick={() => navigate('/payment-history')}\r\n            >\r\n              <History size={16} /> History\r\n            </Button>\r\n            <Button\r\n              style={{ background: '#f1f5f9', color: '#0f172a', flex: 1, fontSize: '0.85rem' }}\r\n              onClick={() => navigate('/surveys')}\r\n            >\r\n              <Activity size={16} /> Earn\r\n            </Button>\r\n          </div>\r\n        </BalanceCard>\r\n\r\n        {/* Right: Quick Withdrawal Panel */}\r\n        <WithdrawalCard>\r\n          <WithdrawalInfo>\r\n            <h2><Wallet size={20} /> Cash Withdrawal</h2>\r\n            <p>Transfer earnings to your bank account instantly. Minimum: 100 pts.</p>\r\n\r\n            <div className=\"bank-status\">\r\n              <div className={`icon ${user?.accountNumber ? 'active' : ''}`}>\r\n                <CreditCard size={18} />\r\n              </div>\r\n              <div className=\"details\">\r\n                <strong>{user?.accountNumber ? 'Bank Connected' : 'No Account Linked'}</strong>\r\n                <span>{user?.accountNumber ? `Ends in ••••${user.accountNumber.slice(-4)}` : 'Link account to withdraw'}</span>\r\n              </div>\r\n            </div>\r\n          </WithdrawalInfo>\r\n\r\n          <WithdrawalForm>\r\n            {!user?.accountNumber ? (\r\n              <div style={{ textAlign: 'center' }}>\r\n                <p style={{ fontSize: '0.85rem', color: '#64748b', marginBottom: '1rem' }}>Please connect a bank account</p>\r\n                <Button $full onClick={() => navigate('/profile')}>\r\n                  <User size={16} /> Link Now\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <label>Amount to Withdraw</label>\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Points\"\r\n                    min=\"100\"\r\n                    value={withdrawalAmount}\r\n                    onChange={(e) => setWithdrawalAmount(e.target.value)}\r\n                  />\r\n                  <Wallet size={16} />\r\n                </div>\r\n\r\n                <div className=\"summary\">\r\n                  <span>Receive:</span>\r\n                  <span style={{ fontWeight: '600', color: '#0f172a' }}>₹{withdrawalAmount || 0}</span>\r\n                </div>\r\n\r\n                <Button\r\n                  $full\r\n                  onClick={handleWithdrawalRequest}\r\n                  $disabled={withdrawalLoading || !withdrawalAmount || withdrawalAmount < 100 || withdrawalAmount > totalPoints}\r\n                >\r\n                  {withdrawalLoading ? <Loader className=\"spin\" size={16} /> : <ArrowRight size={16} />}\r\n                  {withdrawalLoading ? 'Processing' : 'Withdraw'}\r\n                </Button>\r\n              </>\r\n            )}\r\n          </WithdrawalForm>\r\n        </WithdrawalCard>\r\n      </FinanceSection>\r\n\r\n      {/* 2. Available Rewards Grid */}\r\n      <SectionTitle><Gift size={20} /> Available Rewards</SectionTitle>\r\n\r\n      {rewardsLoading ? (\r\n        <EmptyState>\r\n          <Loader size={32} style={{ animation: 'spin 1s linear infinite' }} />\r\n          <p style={{ marginTop: '0.5rem' }}>Loading rewards...</p>\r\n        </EmptyState>\r\n      ) : rewards.length > 0 ? (\r\n        <Grid>\r\n          {rewards.map((reward) => {\r\n            const canAfford = totalPoints >= reward.pointsCost;\r\n            const isRedeeming = redeeming === reward.id;\r\n\r\n            return (\r\n              <RewardCard key={reward.id}>\r\n                <CardImage>\r\n                  <Gift className=\"reward-icon\" />\r\n                  {reward.brand && <span className=\"brand\">{reward.brand}</span>}\r\n                </CardImage>\r\n\r\n                <CardBody>\r\n                  <h4>{reward.name}</h4>\r\n                  <p>{reward.description}</p>\r\n\r\n                  <CardFooter>\r\n                    <div className=\"cost\">\r\n                      <Zap size={14} fill=\"#059669\" /> {reward.pointsCost}\r\n                    </div>\r\n                    <ActionIcon\r\n                      $disabled={!canAfford || isRedeeming}\r\n                      onClick={() => handleRedeem(reward.id)}\r\n                    >\r\n                      {isRedeeming ? <Loader size={18} className=\"spin\" /> : <ShoppingCart size={18} />}\r\n                    </ActionIcon>\r\n                  </CardFooter>\r\n                </CardBody>\r\n              </RewardCard>\r\n            );\r\n          })}\r\n        </Grid>\r\n      ) : (\r\n        <EmptyState>\r\n          <Gift size={40} />\r\n          <p>No rewards available yet.</p>\r\n        </EmptyState>\r\n      )}\r\n\r\n      <style>{`\r\n        .spin { animation: spin 1s linear infinite; }\r\n        @keyframes spin { 100% { transform: rotate(360deg); } }\r\n      `}</style>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default Rewards;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,IAAI,CACJC,MAAM,CACNC,UAAU,CACVC,GAAG,CACHC,UAAU,CACVC,UAAU,CACVC,MAAM,CACNC,aAAa,CACbC,YAAY,CACZC,IAAI,CACJC,OAAO,CACPC,QAAQ,KACH,cAAc,CACrB,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,SAAS,KAAQ,2BAA2B,CACrD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,EAAIC,SAAS,KAAQ,mBAAmB,CACrD,OAASC,KAAK,KAAQ,gBAAgB,CAEtC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEA,KAAM,CAAAC,MAAM,CAAGR,SAAS;AACxB;AACA;AACA,CAAC,CAED,KAAM,CAAAS,OAAO,CAAGT,SAAS;AACzB;AACA;AACA,CAAC,CAED,KAAM,CAAAU,OAAO,CAAGV,SAAS;AACzB;AACA;AACA,CAAC,CAED,KAAM,CAAAW,aAAa,CAAGZ,MAAM,CAACa,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGd,MAAM,CAACa,GAAG;AACjC;AACA;AACA;AACA;AACA,eAAeJ,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAM,IAAI,CAAGf,MAAM,CAACa,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED;AACA,KAAM,CAAAG,WAAW,CAAGhB,MAAM,CAACe,IAAI,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGjB,MAAM,CAACa,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMG,WAAW;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGlB,MAAM,CAACa,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED;AACA,KAAM,CAAAM,cAAc,CAAGnB,MAAM,CAACe,IAAI,CAAC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAK,cAAc,CAAGpB,MAAM,CAACa,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAGrB,MAAM,CAACa,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAS,MAAM,CAAGtB,MAAM,CAACuB,MAAM;AAC5B,WAAWC,KAAK,EAAIA,KAAK,CAACC,KAAK,CAAG,MAAM,CAAG,MAAM;AACjD,gBAAgBD,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,SAAS;AAChE,WAAWF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,OAAO;AACzD;AACA;AACA;AACA;AACA;AACA,YAAYF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,aAAa,CAAG,SAAS;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,SAAS;AAClE,iBAAiBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,MAAM,CAAG,kBAAkB;AACvE;AACA,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAG3B,MAAM,CAAC4B,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAelB,OAAO;AACtB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmB,IAAI,CAAG7B,MAAM,CAACa,GAAG;AACvB;AACA;AACA;AACA,eAAeJ,MAAM;AACrB,CAAC,CAED,KAAM,CAAAqB,UAAU,CAAG9B,MAAM,CAACa,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeF,OAAO;AACtB,qBAAqBa,KAAK,EAAIA,KAAK,CAACO,MAAM,CAAG,GAAGP,KAAK,CAACO,MAAM,CAAG,IAAI,GAAG,CAAG,IAAI;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGhC,MAAM,CAACa,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIiB,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAG,QAAQ,CAAGjC,MAAM,CAACa,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIiB,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAI,UAAU,CAAGlC,MAAM,CAACa,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIiB,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAK,UAAU,CAAGnC,MAAM,CAACuB,MAAM;AAChC;AACA;AACA;AACA;AACA,gBAAgBC,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,SAAS;AAChE,WAAWF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,SAAS;AAC3D;AACA;AACA;AACA,YAAYF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,aAAa,CAAG,SAAS;AAChE;AACA;AACA;AACA,kBAAkBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,SAAS;AAClE,aAAaF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,SAAS,CAAG,OAAO;AAC3D,iBAAiBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,MAAM,CAAG,yBAAyB;AAC9E,kBAAkBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,MAAM,CAAG,mCAAmC;AACzF;AACA;AACA;AACA,iBAAiBF,KAAK,EAAIA,KAAK,CAACE,SAAS,CAAG,MAAM,CAAG,aAAa;AAClE;AACA,CAAC,CAED,KAAM,CAAAU,UAAU,CAAGpC,MAAM,CAACa,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}