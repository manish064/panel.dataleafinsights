{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\ADMINCLIENTPANELDEMO\\\\perfectclone\\\\client\\\\src\\\\pages\\\\SurveyDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaArrowLeft, FaCheckCircle, FaExclamationTriangle } from 'react-icons/fa';\nimport { Clock, Users, DollarSign, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SurveyContainer = styled.div`\n  max-width: 1000px; // Reduced from 1200px\n  margin: 0 auto;\n  padding: 0.25rem; // Reduced from 0.3rem\n  min-height: calc(100vh - 120px);\n`;\n_c = SurveyContainer;\nconst BackButton = styled.button`\n  background: none;\n  border: none;\n  color: #0fc179;\n  font-size: 0.55rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  margin-bottom: 0.3rem;\n  padding: 0.25rem 0;\n  transition: color 0.3s ease;\n  \n  &:hover {\n    color: #0fc179;\n  }\n  \n  svg {\n    font-size: 0.55rem;\n    flex-shrink: 0;\n  }\n`;\n_c2 = BackButton;\nconst NavButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0.5rem;\n  gap: 0.75rem;\n  \n  button {\n    padding: 0.4rem 0.8rem;\n    border: none;\n    border-radius: 6px;\n    font-weight: 600;\n    font-size: 0.85rem;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n    transition: all 0.3s ease;\n    \n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n    \n    &.previous {\n      background: white;\n      color: #0fc179;\n      border: 1px solid #e2e8f0;\n      \n      &:hover:not(:disabled) {\n        background: #f8fafc;\n        border-color: #0fc179;\n        transform: translateY(-1px);\n      }\n    }\n    \n    &.next {\n      background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\n      color: white;\n      \n      &:hover:not(:disabled) {\n        background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(15, 193, 121, 0.3);\n      }\n    }\n    \n    &.submit {\n      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);\n      color: white;\n      \n      &:hover:not(:disabled) {\n        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);\n      }\n    }\n    \n    svg {\n      font-size: 0.8rem;\n      flex-shrink: 0;\n    }\n  }\n`;\nconst SurveyHeader = styled.div`\n  background: linear-gradient(to bottom, #0fc179 0%, #0fc179 100%);\n  color: white;\n  padding: 0.3rem; // Reduced from 0.4rem\n  border-radius: 2px;\n  margin-bottom: 0.6rem; // Reduced from 0.8rem\n  \n  h1 {\n    color: white;\n    margin: 0 0 0.25rem 0;\n    font-size: 0.9rem; // Reduced from 1rem\n  }\n  \n  p {\n    color: rgba(255, 255, 255, 0.9);\n    margin: 0;\n    opacity: 0.9;\n    font-size: 0.65rem; // Reduced from 0.7rem\n  }\n`;\n_c3 = SurveyHeader;\nconst SurveyMeta = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); // Reduced from 200px\n  gap: 0.4rem; // Reduced from 0.5rem\n  margin-bottom: 0.6rem; // Reduced from 0.8rem\n`;\n_c4 = SurveyMeta;\nconst MetaItem = styled.div`\n  background: white;\n  padding: 0.4rem; // Reduced from 0.5rem\n  border-radius: 3px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\n  display: flex;\n  align-items: center;\n  gap: 0.4rem; // Reduced from 0.5rem\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  border: 1px solid #e2e8f0;\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 3px 10px rgba(15, 193, 121, 0.12);\n  }\n`;\n_c5 = MetaItem;\nconst ContentGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 240px; // Reduced from 280px\n  gap: 0.6rem; // Reduced from 0.75rem\n  \n  @media (max-width: 968px) {\n    grid-template-columns: 1fr;\n  }\n`;\n_c6 = ContentGrid;\nconst Card = styled.div`\n  background: white;\n  border-radius: 5px; // Reduced from 6px\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n  border: 1px solid #e2e8f0;\n`;\n_c7 = Card;\nconst CardHeader = styled.div`\n  padding: 0.6rem; // Reduced from 0.75rem\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  \n  h2 {\n    margin: 0;\n    color: #2c3e50;\n    font-size: 0.7rem; // Reduced from 0.8rem\n  }\n`;\n_c8 = CardHeader;\nconst CardContent = styled.div`\n  padding: 0.6rem; // Reduced from 0.75rem\n  \n  .progress-track {\n    width: 100%;\n    height: 10px;\n    background: #f1f5f9;\n    border-radius: 6px;\n    overflow: hidden;\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    \n    .progress-fill {\n      height: 100%;\n      background: linear-gradient(90deg, #0fc179 0%, #0fc179 50%, #0fc179 100%);\n      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n      border-radius: 6px;\n      position: relative;\n      \n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);\n        animation: shimmer 2s infinite;\n      }\n    }\n  }\n  \n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n`;\n_c9 = CardContent;\nconst QuestionCard = styled.div`\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e2e8f0;\n  overflow: hidden;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  animation: slideIn 0.4s ease-out;\n  \n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\n    transform: translateY(-1px);\n  }\n  \n  .question-header {\n    padding: 0.75rem;\n    border-bottom: 1px solid #e0e0e0;\n    background: #f8fafc;\n    \n    .question-number {\n      color: #0fc179;\n      font-weight: 600;\n      font-size: 0.8rem;\n      margin-bottom: 0.2rem;\n    }\n    \n    .question-text {\n      color: #2c3e50;\n      font-size: 1rem;\n      font-weight: 500;\n      margin: 0;\n      line-height: 1.4;\n    }\n    \n    .question-required {\n      color: #e74c3c;\n      font-size: 0.8rem;\n      margin-top: 0.5rem;\n    }\n  }\n  \n  .question-content {\n    padding: 0.75rem;\n  }\n`;\n_c0 = QuestionCard;\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n`;\n_c1 = OptionsContainer;\nconst OptionLabel = styled.label`\n  display: flex;\n  align-items: center;\n  padding: 0.4rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background: white;\n  \n  &:hover {\n    background: #f8fafc;\n    border-color: #0fc179;\n        transform: translateY(-1px);\n        box-shadow: 0 2px 4px rgba(15, 193, 121, 0.1);\n  }\n  \n  &.selected {\n    border-color: #0fc179;\n    background: rgba(15, 193, 121, 0.05);\n    box-shadow: 0 2px 8px rgba(15, 193, 121, 0.15);\n  }\n  \n  input {\n    margin: 0;\n    margin-right: 0.75rem;\n    accent-color: #0fc179;\n  }\n  \n  span {\n    color: #2c3e50;\n    font-size: 0.65rem;\n    font-weight: 500;\n  }\n`;\n_c10 = OptionLabel;\nconst TextInput = styled.input`\n  width: 100%;\n  padding: 0.6rem;\n  border: 2px solid rgba(15, 193, 121, 0.2);\n  border-radius: 6px;\n  font-size: 0.65rem;\n  transition: border-color 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #0fc179;\n  }\n`;\n_c11 = TextInput;\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 0.6rem;\n  border: 2px solid rgba(15, 193, 121, 0.2);\n  border-radius: 6px;\n  font-size: 0.75rem;\n  min-height: 40px;\n  resize: vertical;\n  transition: border-color 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #0fc179;\n  }\n`;\n_c12 = TextArea;\nconst NavigationButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: 1.5rem;\n  \n  button {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.875rem 1.75rem;\n    border: none;\n    border-radius: 8px;\n    font-weight: 600;\n    font-size: 0.9rem;\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n    overflow: hidden;\n    \n    &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -100%;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n      transition: left 0.5s;\n    }\n    \n    &:hover::before {\n      left: 100%;\n    }\n    \n    &.previous {\n      background: #f8fafc;\n      color: #64748b;\n      border: 1px solid #e2e8f0;\n      \n      &:hover:not(:disabled) {\n        background: #f1f5f9;\n        color: #475569;\n        transform: translateX(-2px);\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n      }\n      \n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n    }\n    \n    &.next, &.submit {\n      background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\n      color: white;\n      box-shadow: 0 2px 8px rgba(15, 193, 121, 0.3);\n      \n      &:hover:not(:disabled) {\n        background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\n        transform: translateY(-2px);\n        box-shadow: 0 6px 16px rgba(15, 193, 121, 0.4);\n      }\n      \n      &:active:not(:disabled) {\n        transform: translateY(0);\n        box-shadow: 0 2px 8px rgba(15, 193, 121, 0.3);\n      }\n      \n      &:disabled {\n        opacity: 0.6;\n        cursor: not-allowed;\n        transform: none;\n        box-shadow: 0 2px 8px rgba(15, 193, 121, 0.2);\n      }\n    }\n    \n    &.submit {\n      background: linear-gradient(135deg, #059669 0%, #10b981 100%);\n      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n      \n      &:hover:not(:disabled) {\n        background: linear-gradient(135deg, #047857 0%, #059669 100%);\n        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);\n      }\n      \n      &:disabled {\n        box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);\n      }\n    }\n  }\n`;\n_c13 = NavigationButtons;\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem;\n  \n  &::after {\n    content: '';\n    width: 32px;\n    height: 32px;\n    border: 3px solid rgba(15, 193, 121, 0.1);\n    border-top: 3px solid #0fc179;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n_c14 = LoadingSpinner;\nconst ErrorMessage = styled.div`\n  background: rgba(239, 68, 68, 0.1);\n  color: #dc2626;\n  padding: 0.75rem;\n  border-radius: 6px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  font-size: 0.9rem;\n`;\n_c15 = ErrorMessage;\nconst SuccessMessage = styled.div`\n  background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\n  color: white;\n  padding: 0.8rem;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 4px 15px rgba(15, 193, 121, 0.2);\n  \n  h3 {\n    margin: 1rem 0;\n    color: white;\n    font-size: 1rem;\n  }\n  \n  p {\n    margin: 0.5rem 0;\n    color: rgba(255, 255, 255, 0.9);\n    font-size: 0.85rem;\n  }\n  \n  button {\n    background: rgba(255, 255, 255, 0.1);\n    color: white;\n    padding: 0.4rem 1rem;\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 8px;\n    font-weight: 600;\n    cursor: pointer;\n    margin-top: 1rem;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      background: rgba(255, 255, 255, 0.2);\n      transform: translateY(-1px);\n    }\n  }\n`;\n_c16 = SuccessMessage;\nconst SurveyDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    refreshUser\n  } = useAuth();\n  const [survey, setSurvey] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [responses, setResponses] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [completed, setCompleted] = useState(false);\n  const [startTime] = useState(Date.now());\n  const fetchSurvey = useCallback(async () => {\n    try {\n      const response = await axios.get(`/surveys/${id}`);\n      if (response.data.success) {\n        const srv = response.data.survey;\n        const normalizedQuestions = (srv.questions || []).map((q, idx) => {\n          const idSafe = q.id !== undefined ? q.id : idx + 1;\n          switch (q.type) {\n            case 'mcq_single':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'multiple-choice',\n                options: q.options || []\n              };\n            case 'mcq_multi':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'checkbox',\n                options: q.options || []\n              };\n            case 'short_text':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'text'\n              };\n            case 'number':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'number'\n              };\n            case 'rating':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'rating',\n                maxRating: q.scale || q.maxRating || 5\n              };\n            case 'dropdown':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'dropdown',\n                options: q.options || []\n              };\n            case 'date':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'date',\n                format: q.format || 'yyyy-MM-dd'\n              };\n            case 'matrix':\n              return {\n                ...q,\n                id: idSafe,\n                type: 'matrix',\n                rows: q.rows || [],\n                columns: q.columns || []\n              };\n            default:\n              return {\n                ...q,\n                id: idSafe\n              };\n          }\n        });\n        setSurvey({\n          ...srv,\n          questions: normalizedQuestions\n        });\n      } else {\n        setError('Survey not found or not available');\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 400 && error.response.data.message === 'Survey already completed') {\n        setCompleted(true);\n        setError('You have already completed this survey. Thank you for your participation!');\n      } else {\n        setError('Failed to load survey. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n  useEffect(() => {\n    fetchSurvey();\n  }, [fetchSurvey]);\n  const handleResponseChange = (questionId, value) => {\n    setResponses(prev => ({\n      ...prev,\n      [questionId]: value\n    }));\n  };\n  const isCurrentQuestionAnswered = () => {\n    if (!survey || !survey.questions) return false;\n    const question = survey.questions[currentQuestion];\n    const response = responses[question.id];\n\n    // For checkbox questions, check if at least one option is selected\n    if (question.type === 'checkbox') {\n      return Array.isArray(response) && response.length > 0;\n    }\n    // For matrix, require selection for each row if required\n    if (question.type === 'matrix') {\n      const rowCount = (question.rows || []).length;\n      if (!response || typeof response !== 'object') return false;\n      const answeredRows = Object.keys(response).length;\n      return answeredRows >= rowCount;\n    }\n\n    // For other questions, check if response exists and is not empty\n    return response !== undefined && response !== '' && response !== null;\n  };\n  const validateAllRequiredQuestions = () => {\n    if (!survey || !survey.questions) return false;\n    for (const question of survey.questions) {\n      if (question.required) {\n        const response = responses[question.id];\n\n        // For checkbox questions, check if at least one option is selected\n        if (question.type === 'checkbox') {\n          if (!Array.isArray(response) || response.length === 0) {\n            return false;\n          }\n        } else {\n          // For other questions, check if response exists and is not empty\n          if (response === undefined || response === '' || response === null) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  };\n  const getRequiredQuestionsStatus = () => {\n    if (!survey || !survey.questions) return {\n      completed: 0,\n      total: 0\n    };\n    const requiredQuestions = survey.questions.filter(q => q.required);\n    const completedRequired = requiredQuestions.filter(question => {\n      const response = responses[question.id];\n      if (question.type === 'checkbox') {\n        return Array.isArray(response) && response.length > 0;\n      }\n      return response !== undefined && response !== '' && response !== null;\n    });\n    return {\n      completed: completedRequired.length,\n      total: requiredQuestions.length\n    };\n  };\n  const handleNext = () => {\n    if (currentQuestion < survey.questions.length - 1) {\n      setCurrentQuestion(prev => prev + 1);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(prev => prev - 1);\n    }\n  };\n  const handleSubmit = async () => {\n    // Validate all required questions are answered\n    if (!validateAllRequiredQuestions()) {\n      setError('Please answer all required questions before submitting.');\n      return;\n    }\n    setSubmitting(true);\n    setError('');\n    try {\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\n      const submissionData = {\n        responses,\n        timeSpent\n      };\n      console.log('Submitting survey:', {\n        surveyId: survey.id,\n        submissionData,\n        endpoint: `/surveys/${survey.id}/submit`\n      });\n      const response = await axios.post(`/surveys/${survey.id}/submit`, submissionData);\n      console.log('Survey submission response:', response.data);\n      if (response.data.success) {\n        setCompleted(true);\n        // Refresh user data to get updated points\n        await refreshUser();\n        // Navigate back to surveys page with completion flag to trigger data refresh\n        setTimeout(() => {\n          navigate('/surveys?completed=true&refresh=true');\n        }, 2000);\n      } else {\n        setError(response.data.message || 'Failed to submit survey');\n      }\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Survey submission error:', error);\n      console.error('Error response:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to submit survey. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle keyboard navigation\n  const handleKeyPress = useCallback(event => {\n    // Only handle Enter key\n    if (event.key !== 'Enter') return;\n\n    // Don't interfere with form inputs that are focused\n    const activeElement = document.activeElement;\n    if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n      // For text inputs, let Enter work normally (or move to next question)\n      if (activeElement.type === 'text' || activeElement.type === 'email' || activeElement.type === 'tel' || activeElement.type === 'url' || activeElement.type === 'number' || activeElement.type === 'date' || activeElement.tagName === 'TEXTAREA') {\n        event.preventDefault();\n        // Move to next question or submit\n        if (currentQuestion === survey.questions.length - 1) {\n          if (validateAllRequiredQuestions()) {\n            handleSubmit();\n          }\n        } else {\n          const currentQuestionData = survey.questions[currentQuestion];\n          if (!currentQuestionData.required || isCurrentQuestionAnswered()) {\n            handleNext();\n          }\n        }\n        return;\n      }\n    }\n\n    // For radio buttons and checkboxes, Enter should move to next question\n    event.preventDefault();\n    if (currentQuestion === survey.questions.length - 1) {\n      // Last question - submit if all required questions are answered\n      if (validateAllRequiredQuestions()) {\n        handleSubmit();\n      }\n    } else {\n      // Not last question - move to next if current question is answered (if required)\n      const currentQuestionData = survey.questions[currentQuestion];\n      if (!currentQuestionData.required || isCurrentQuestionAnswered()) {\n        handleNext();\n      }\n    }\n  }, [currentQuestion, survey, responses, handleNext, handleSubmit, isCurrentQuestionAnswered, validateAllRequiredQuestions]);\n\n  // Add keyboard event listener\n  useEffect(() => {\n    if (survey && survey.questions && survey.questions.length > 0) {\n      document.addEventListener('keydown', handleKeyPress);\n      return () => {\n        document.removeEventListener('keydown', handleKeyPress);\n      };\n    }\n  }, [handleKeyPress, survey]);\n  const formatDuration = minutes => {\n    if (minutes < 60) {\n      return `${minutes} min`;\n    }\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}m` : `${hours}h`;\n  };\n  const renderQuestion = question => {\n    const currentResponse = responses[question.id];\n    switch (question.type) {\n      case 'multiple-choice':\n        return /*#__PURE__*/_jsxDEV(OptionsContainer, {\n          children: question.options.map((option, index) => /*#__PURE__*/_jsxDEV(OptionLabel, {\n            className: currentResponse === option ? 'selected' : '',\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question_${question.id}`,\n              value: option,\n              checked: currentResponse === option,\n              onChange: e => handleResponseChange(question.id, e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 11\n        }, this);\n      case 'checkbox':\n        return /*#__PURE__*/_jsxDEV(OptionsContainer, {\n          children: question.options.map((option, index) => {\n            const selectedOptions = currentResponse || [];\n            return /*#__PURE__*/_jsxDEV(OptionLabel, {\n              className: selectedOptions.includes(option) ? 'selected' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                value: option,\n                checked: selectedOptions.includes(option),\n                onChange: e => {\n                  const newSelection = selectedOptions.includes(option) ? selectedOptions.filter(item => item !== option) : [...selectedOptions, option];\n                  handleResponseChange(question.id, newSelection);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: option\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 11\n        }, this);\n      case 'dropdown':\n        return /*#__PURE__*/_jsxDEV(\"select\", {\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          style: {\n            padding: '0.6rem',\n            border: '1px solid #e0e0e0',\n            borderRadius: '6px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select an option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 13\n          }, this), question.options.map((opt, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt,\n            children: opt\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 11\n        }, this);\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"text\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter your answer...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 11\n        }, this);\n      case 'textarea':\n        return /*#__PURE__*/_jsxDEV(TextArea, {\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter your detailed response...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 11\n        }, this);\n      case 'rating':\n        const maxRating = question.maxRating || 5;\n        return /*#__PURE__*/_jsxDEV(OptionsContainer, {\n          children: Array.from({\n            length: maxRating\n          }, (_, i) => i + 1).map(rating => /*#__PURE__*/_jsxDEV(OptionLabel, {\n            className: currentResponse === rating ? 'selected' : '',\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question_${question.id}`,\n              value: rating,\n              checked: currentResponse === rating,\n              onChange: e => handleResponseChange(question.id, parseInt(e.target.value))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 17\n            }, this)]\n          }, rating, true, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 11\n        }, this);\n      case 'fill-in-the-blank':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"text\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Fill in the blank...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 11\n        }, this);\n      case 'date':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"date\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Select a date...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 11\n        }, this);\n      case 'number':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"number\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter a number...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 11\n        }, this);\n      case 'matrix':\n        const rows = question.rows || [];\n        const cols = question.columns || [];\n        const resp = currentResponse || {};\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflowX: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            style: {\n              width: '100%',\n              borderCollapse: 'collapse'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'left',\n                    padding: '8px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 19\n                }, this), cols.map((c, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'center',\n                    padding: '8px',\n                    fontSize: '0.85rem',\n                    color: '#64748b'\n                  },\n                  children: c\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 922,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: rows.map((r, ri) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '8px',\n                    fontSize: '0.9rem',\n                    color: '#374151'\n                  },\n                  children: r\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 929,\n                  columnNumber: 21\n                }, this), cols.map((c, ci) => /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'center',\n                    padding: '8px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: `matrix_${question.id}_row_${ri}`,\n                    checked: resp[ri] === ci,\n                    onChange: () => handleResponseChange(question.id, {\n                      ...resp,\n                      [ri]: ci\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 932,\n                    columnNumber: 25\n                  }, this)\n                }, ci, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 23\n                }, this))]\n              }, ri, true, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this);\n      case 'email':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"email\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter your email...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 11\n        }, this);\n      case 'phone':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"tel\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter your phone number...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 11\n        }, this);\n      case 'url':\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"url\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: \"Enter a URL...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 11\n        }, this);\n      default:\n        // Fallback to text input for any unrecognized type\n        return /*#__PURE__*/_jsxDEV(TextInput, {\n          type: \"text\",\n          value: currentResponse || '',\n          onChange: e => handleResponseChange(question.id, e.target.value),\n          placeholder: `Enter your answer for ${question.type} question...`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 980,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 991,\n      columnNumber: 12\n    }, this);\n  }\n  if (error && !survey) {\n    return /*#__PURE__*/_jsxDEV(SurveyContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 11\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BackButton, {\n        onClick: () => navigate('/surveys'),\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 11\n        }, this), \"Back to Surveys\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 996,\n      columnNumber: 7\n    }, this);\n  }\n  if (completed) {\n    return /*#__PURE__*/_jsxDEV(SurveyContainer, {\n      children: /*#__PURE__*/_jsxDEV(SuccessMessage, {\n        children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n          size: 48,\n          style: {\n            color: '#27ae60'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Survey Already Completed!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error || 'Thank you for your participation.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 11\n        }, this), survey && survey.pointsReward && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You've earned \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [survey.pointsReward, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 30\n          }, this), \" for completing this survey.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/surveys?completed=true'),\n          children: \"Back to Surveys\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 7\n    }, this);\n  }\n  if (!survey || !survey.questions || survey.questions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(SurveyContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 11\n        }, this), \"This survey is not available or has no questions.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1028,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BackButton, {\n        onClick: () => navigate('/surveys'),\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this), \"Back to Surveys\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQuestionData = survey.questions[currentQuestion];\n  const progress = (currentQuestion + 1) / survey.questions.length * 100;\n  return /*#__PURE__*/_jsxDEV(SurveyContainer, {\n    children: [/*#__PURE__*/_jsxDEV(BackButton, {\n      onClick: () => navigate('/surveys'),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 9\n      }, this), \"Back to Surveys\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SurveyHeader, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: survey.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SurveyMeta, {\n      children: [/*#__PURE__*/_jsxDEV(MetaItem, {\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 20,\n          color: \"#0fc179\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              color: '#2c3e50'\n            },\n            children: formatDuration(survey.estimatedTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.85rem',\n              color: '#64748b'\n            },\n            children: \"Estimated time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1056,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MetaItem, {\n        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n          size: 20,\n          color: \"#10b981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              color: '#2c3e50'\n            },\n            children: [survey.pointsReward, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.85rem',\n              color: '#64748b'\n            },\n            children: \"Reward\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1065,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MetaItem, {\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          size: 20,\n          color: \"#f59e0b\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              color: '#2c3e50'\n            },\n            children: survey.targetAudience || 'General'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.85rem',\n              color: '#64748b'\n            },\n            children: \"Target audience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1055,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1081,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1080,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ContentGrid, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(QuestionCard, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-number\",\n              children: [\"Question \", currentQuestion + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"question-text\",\n              children: currentQuestionData.question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 15\n            }, this), currentQuestionData.required && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-required\",\n              children: \"* This question is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-content\",\n            children: renderQuestion(currentQuestionData)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '0.75rem',\n              padding: '0.5rem',\n              background: 'rgba(15, 193, 121, 0.05)',\n              border: '1px solid rgba(15, 193, 121, 0.1)',\n              borderRadius: '4px',\n              fontSize: '0.8rem',\n              color: '#64748b',\n              textAlign: 'center'\n            },\n            children: [\"\\uD83D\\uDCA1 Press \", /*#__PURE__*/_jsxDEV(\"kbd\", {\n              style: {\n                background: '#f1f5f9',\n                border: '1px solid #cbd5e1',\n                borderRadius: '3px',\n                padding: '0.1rem 0.3rem',\n                fontSize: '0.75rem',\n                fontFamily: 'monospace'\n              },\n              children: \"Enter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1118,\n              columnNumber: 24\n            }, this), \" to \", currentQuestion === survey.questions.length - 1 ? 'submit survey' : 'move to next question']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavigationButtons, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"previous\",\n            onClick: handlePrevious,\n            disabled: currentQuestion === 0,\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1135,\n              columnNumber: 15\n            }, this), \"Previous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1130,\n            columnNumber: 13\n          }, this), currentQuestion === survey.questions.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit\",\n            onClick: handleSubmit,\n            disabled: submitting || !validateAllRequiredQuestions(),\n            children: submitting ? 'Submitting...' : 'Submit Survey'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"next\",\n            onClick: handleNext,\n            disabled: currentQuestionData.required && !isCurrentQuestionAnswered(),\n            children: [\"Next\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1154,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1087,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#0fc179',\n                fontWeight: '600'\n              },\n              children: [Math.round(progress), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-track\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-fill\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.5rem',\n                fontSize: '0.9rem',\n                color: '#64748b'\n              },\n              children: [\"Question \", currentQuestion + 1, \" of \", survey.questions.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Survey Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.8rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#64748b'\n                  },\n                  children: \"Total Questions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1185,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '500'\n                  },\n                  children: survey.questions.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1186,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1184,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#64748b'\n                  },\n                  children: \"Current:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1189,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '500'\n                  },\n                  children: currentQuestion + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1190,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1188,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#64748b'\n                  },\n                  children: \"Answered:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '500'\n                  },\n                  children: Object.keys(responses).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1194,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1192,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#64748b'\n                  },\n                  children: \"Required:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1197,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '500',\n                    color: getRequiredQuestionsStatus().completed === getRequiredQuestionsStatus().total ? '#059669' : '#e74c3c'\n                  },\n                  children: [getRequiredQuestionsStatus().completed, \"/\", getRequiredQuestionsStatus().total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1198,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1196,\n                columnNumber: 18\n              }, this), !validateAllRequiredQuestions() && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '0.5rem',\n                  background: '#fef2f2',\n                  border: '1px solid #fecaca',\n                  borderRadius: '4px',\n                  fontSize: '0.8rem',\n                  color: '#dc2626'\n                },\n                children: \"Please complete all required questions to submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1183,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1086,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1044,\n    columnNumber: 5\n  }, this);\n};\n_s(SurveyDetail, \"3GZ09/vp7YKGYkdu31TBBsRJzvU=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c17 = SurveyDetail;\nexport default SurveyDetail;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n$RefreshReg$(_c, \"SurveyContainer\");\n$RefreshReg$(_c2, \"BackButton\");\n$RefreshReg$(_c3, \"SurveyHeader\");\n$RefreshReg$(_c4, \"SurveyMeta\");\n$RefreshReg$(_c5, \"MetaItem\");\n$RefreshReg$(_c6, \"ContentGrid\");\n$RefreshReg$(_c7, \"Card\");\n$RefreshReg$(_c8, \"CardHeader\");\n$RefreshReg$(_c9, \"CardContent\");\n$RefreshReg$(_c0, \"QuestionCard\");\n$RefreshReg$(_c1, \"OptionsContainer\");\n$RefreshReg$(_c10, \"OptionLabel\");\n$RefreshReg$(_c11, \"TextInput\");\n$RefreshReg$(_c12, \"TextArea\");\n$RefreshReg$(_c13, \"NavigationButtons\");\n$RefreshReg$(_c14, \"LoadingSpinner\");\n$RefreshReg$(_c15, \"ErrorMessage\");\n$RefreshReg$(_c16, \"SuccessMessage\");\n$RefreshReg$(_c17, \"SurveyDetail\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","FaArrowLeft","FaCheckCircle","FaExclamationTriangle","Clock","Users","DollarSign","ChevronLeft","ChevronRight","useAuth","axios","styled","jsxDEV","_jsxDEV","SurveyContainer","div","_c","BackButton","button","_c2","NavButtons","SurveyHeader","_c3","SurveyMeta","_c4","MetaItem","_c5","ContentGrid","_c6","Card","_c7","CardHeader","_c8","CardContent","_c9","QuestionCard","_c0","OptionsContainer","_c1","OptionLabel","label","_c10","TextInput","input","_c11","TextArea","textarea","_c12","NavigationButtons","_c13","LoadingSpinner","_c14","ErrorMessage","_c15","SuccessMessage","_c16","SurveyDetail","_s","id","navigate","user","refreshUser","survey","setSurvey","loading","setLoading","error","setError","currentQuestion","setCurrentQuestion","responses","setResponses","submitting","setSubmitting","completed","setCompleted","startTime","Date","now","fetchSurvey","response","get","data","success","srv","normalizedQuestions","questions","map","q","idx","idSafe","undefined","type","options","maxRating","scale","format","rows","columns","status","message","handleResponseChange","questionId","value","prev","isCurrentQuestionAnswered","question","Array","isArray","length","rowCount","answeredRows","Object","keys","validateAllRequiredQuestions","required","getRequiredQuestionsStatus","total","requiredQuestions","filter","completedRequired","handleNext","handlePrevious","handleSubmit","timeSpent","Math","floor","submissionData","console","log","surveyId","endpoint","post","setTimeout","_error$response","_error$response2","_error$response2$data","handleKeyPress","event","key","activeElement","document","tagName","preventDefault","currentQuestionData","addEventListener","removeEventListener","formatDuration","minutes","hours","remainingMinutes","renderQuestion","currentResponse","children","option","index","className","name","checked","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","selectedOptions","includes","newSelection","item","style","padding","border","borderRadius","opt","placeholder","from","_","i","rating","parseInt","cols","resp","overflowX","width","borderCollapse","textAlign","c","fontSize","color","r","ri","ci","onClick","size","pointsReward","progress","title","description","fontWeight","estimatedTime","targetAudience","marginTop","background","fontFamily","disabled","round","display","flexDirection","gap","justifyContent","_c17","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/ADMINCLIENTPANELDEMO/perfectclone/client/src/pages/SurveyDetail.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { FaArrowLeft, FaCheckCircle, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Clock, Users, DollarSign, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\n\r\nconst SurveyContainer = styled.div`\r\n  max-width: 1000px; // Reduced from 1200px\r\n  margin: 0 auto;\r\n  padding: 0.25rem; // Reduced from 0.3rem\r\n  min-height: calc(100vh - 120px);\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #0fc179;\r\n  font-size: 0.55rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n  margin-bottom: 0.3rem;\r\n  padding: 0.25rem 0;\r\n  transition: color 0.3s ease;\r\n  \r\n  &:hover {\r\n    color: #0fc179;\r\n  }\r\n  \r\n  svg {\r\n    font-size: 0.55rem;\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nconst NavButtons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 0.5rem;\r\n  gap: 0.75rem;\r\n  \r\n  button {\r\n    padding: 0.4rem 0.8rem;\r\n    border: none;\r\n    border-radius: 6px;\r\n    font-weight: 600;\r\n    font-size: 0.85rem;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 0.5rem;\r\n    transition: all 0.3s ease;\r\n    \r\n    &:disabled {\r\n      opacity: 0.5;\r\n      cursor: not-allowed;\r\n    }\r\n    \r\n    &.previous {\r\n      background: white;\r\n      color: #0fc179;\r\n      border: 1px solid #e2e8f0;\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: #f8fafc;\r\n        border-color: #0fc179;\r\n        transform: translateY(-1px);\r\n      }\r\n    }\r\n    \r\n    &.next {\r\n      background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\r\n      color: white;\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 4px 12px rgba(15, 193, 121, 0.3);\r\n      }\r\n    }\r\n    \r\n    &.submit {\r\n      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);\r\n      color: white;\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);\r\n      }\r\n    }\r\n    \r\n    svg {\r\n      font-size: 0.8rem;\r\n      flex-shrink: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SurveyHeader = styled.div`\r\n  background: linear-gradient(to bottom, #0fc179 0%, #0fc179 100%);\r\n  color: white;\r\n  padding: 0.3rem; // Reduced from 0.4rem\r\n  border-radius: 2px;\r\n  margin-bottom: 0.6rem; // Reduced from 0.8rem\r\n  \r\n  h1 {\r\n    color: white;\r\n    margin: 0 0 0.25rem 0;\r\n    font-size: 0.9rem; // Reduced from 1rem\r\n  }\r\n  \r\n  p {\r\n    color: rgba(255, 255, 255, 0.9);\r\n    margin: 0;\r\n    opacity: 0.9;\r\n    font-size: 0.65rem; // Reduced from 0.7rem\r\n  }\r\n`;\r\n\r\nconst SurveyMeta = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); // Reduced from 200px\r\n  gap: 0.4rem; // Reduced from 0.5rem\r\n  margin-bottom: 0.6rem; // Reduced from 0.8rem\r\n`;\r\n\r\nconst MetaItem = styled.div`\r\n  background: white;\r\n  padding: 0.4rem; // Reduced from 0.5rem\r\n  border-radius: 3px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem; // Reduced from 0.5rem\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  border: 1px solid #e2e8f0;\r\n  \r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 10px rgba(15, 193, 121, 0.12);\r\n  }\r\n`;\r\n\r\nconst ContentGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 240px; // Reduced from 280px\r\n  gap: 0.6rem; // Reduced from 0.75rem\r\n  \r\n  @media (max-width: 968px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: white;\r\n  border-radius: 5px; // Reduced from 6px\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\r\n  overflow: hidden;\r\n  border: 1px solid #e2e8f0;\r\n`;\r\n\r\nconst CardHeader = styled.div`\r\n  padding: 0.6rem; // Reduced from 0.75rem\r\n  border-bottom: 1px solid #e0e0e0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  \r\n  h2 {\r\n    margin: 0;\r\n    color: #2c3e50;\r\n    font-size: 0.7rem; // Reduced from 0.8rem\r\n  }\r\n`;\r\n\r\nconst CardContent = styled.div`\r\n  padding: 0.6rem; // Reduced from 0.75rem\r\n  \r\n  .progress-track {\r\n    width: 100%;\r\n    height: 10px;\r\n    background: #f1f5f9;\r\n    border-radius: 6px;\r\n    overflow: hidden;\r\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\r\n    \r\n    .progress-fill {\r\n      height: 100%;\r\n      background: linear-gradient(90deg, #0fc179 0%, #0fc179 50%, #0fc179 100%);\r\n      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\r\n      border-radius: 6px;\r\n      position: relative;\r\n      \r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);\r\n        animation: shimmer 2s infinite;\r\n      }\r\n    }\r\n  }\r\n  \r\n  @keyframes shimmer {\r\n    0% { transform: translateX(-100%); }\r\n    100% { transform: translateX(100%); }\r\n  }\r\n`;\r\n\r\n\r\n\r\nconst QuestionCard = styled.div`\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid #e2e8f0;\r\n  overflow: hidden;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  animation: slideIn 0.4s ease-out;\r\n  \r\n  @keyframes slideIn {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateY(20px);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  &:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  .question-header {\r\n    padding: 0.75rem;\r\n    border-bottom: 1px solid #e0e0e0;\r\n    background: #f8fafc;\r\n    \r\n    .question-number {\r\n      color: #0fc179;\r\n      font-weight: 600;\r\n      font-size: 0.8rem;\r\n      margin-bottom: 0.2rem;\r\n    }\r\n    \r\n    .question-text {\r\n      color: #2c3e50;\r\n      font-size: 1rem;\r\n      font-weight: 500;\r\n      margin: 0;\r\n      line-height: 1.4;\r\n    }\r\n    \r\n    .question-required {\r\n      color: #e74c3c;\r\n      font-size: 0.8rem;\r\n      margin-top: 0.5rem;\r\n    }\r\n  }\r\n  \r\n  .question-content {\r\n    padding: 0.75rem;\r\n  }\r\n`;\r\n\r\nconst OptionsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.4rem;\r\n`;\r\n\r\nconst OptionLabel = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.4rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  background: white;\r\n  \r\n  &:hover {\r\n    background: #f8fafc;\r\n    border-color: #0fc179;\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 2px 4px rgba(15, 193, 121, 0.1);\r\n  }\r\n  \r\n  &.selected {\r\n    border-color: #0fc179;\r\n    background: rgba(15, 193, 121, 0.05);\r\n    box-shadow: 0 2px 8px rgba(15, 193, 121, 0.15);\r\n  }\r\n  \r\n  input {\r\n    margin: 0;\r\n    margin-right: 0.75rem;\r\n    accent-color: #0fc179;\r\n  }\r\n  \r\n  span {\r\n    color: #2c3e50;\r\n    font-size: 0.65rem;\r\n    font-weight: 500;\r\n  }\r\n`;\r\n\r\nconst TextInput = styled.input`\r\n  width: 100%;\r\n  padding: 0.6rem;\r\n  border: 2px solid rgba(15, 193, 121, 0.2);\r\n  border-radius: 6px;\r\n  font-size: 0.65rem;\r\n  transition: border-color 0.3s ease;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #0fc179;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  padding: 0.6rem;\r\n  border: 2px solid rgba(15, 193, 121, 0.2);\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  min-height: 40px;\r\n  resize: vertical;\r\n  transition: border-color 0.3s ease;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #0fc179;\r\n  }\r\n`;\r\n\r\nconst NavigationButtons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 1rem;\r\n  margin-top: 1.5rem;\r\n  \r\n  button {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    padding: 0.875rem 1.75rem;\r\n    border: none;\r\n    border-radius: 8px;\r\n    font-weight: 600;\r\n    font-size: 0.9rem;\r\n    cursor: pointer;\r\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n    position: relative;\r\n    overflow: hidden;\r\n    \r\n    &::before {\r\n      content: '';\r\n      position: absolute;\r\n      top: 0;\r\n      left: -100%;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n      transition: left 0.5s;\r\n    }\r\n    \r\n    &:hover::before {\r\n      left: 100%;\r\n    }\r\n    \r\n    &.previous {\r\n      background: #f8fafc;\r\n      color: #64748b;\r\n      border: 1px solid #e2e8f0;\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: #f1f5f9;\r\n        color: #475569;\r\n        transform: translateX(-2px);\r\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n      }\r\n      \r\n      &:disabled {\r\n        opacity: 0.5;\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n    \r\n    &.next, &.submit {\r\n      background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\r\n      color: white;\r\n      box-shadow: 0 2px 8px rgba(15, 193, 121, 0.3);\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\r\n        transform: translateY(-2px);\r\n        box-shadow: 0 6px 16px rgba(15, 193, 121, 0.4);\r\n      }\r\n      \r\n      &:active:not(:disabled) {\r\n        transform: translateY(0);\r\n        box-shadow: 0 2px 8px rgba(15, 193, 121, 0.3);\r\n      }\r\n      \r\n      &:disabled {\r\n        opacity: 0.6;\r\n        cursor: not-allowed;\r\n        transform: none;\r\n        box-shadow: 0 2px 8px rgba(15, 193, 121, 0.2);\r\n      }\r\n    }\r\n    \r\n    &.submit {\r\n      background: linear-gradient(135deg, #059669 0%, #10b981 100%);\r\n      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\r\n      \r\n      &:hover:not(:disabled) {\r\n        background: linear-gradient(135deg, #047857 0%, #059669 100%);\r\n        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);\r\n      }\r\n      \r\n      &:disabled {\r\n        box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingSpinner = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 3rem;\r\n  \r\n  &::after {\r\n    content: '';\r\n    width: 32px;\r\n    height: 32px;\r\n    border: 3px solid rgba(15, 193, 121, 0.1);\r\n    border-top: 3px solid #0fc179;\r\n    border-radius: 50%;\r\n    animation: spin 1s linear infinite;\r\n  }\r\n  \r\n  @keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: rgba(239, 68, 68, 0.1);\r\n  color: #dc2626;\r\n  padding: 0.75rem;\r\n  border-radius: 6px;\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  border: 1px solid rgba(239, 68, 68, 0.2);\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst SuccessMessage = styled.div`\r\n  background: linear-gradient(135deg, #0fc179 0%, #0fc179 100%);\r\n  color: white;\r\n  padding: 0.8rem;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  box-shadow: 0 4px 15px rgba(15, 193, 121, 0.2);\r\n  \r\n  h3 {\r\n    margin: 1rem 0;\r\n    color: white;\r\n    font-size: 1rem;\r\n  }\r\n  \r\n  p {\r\n    margin: 0.5rem 0;\r\n    color: rgba(255, 255, 255, 0.9);\r\n    font-size: 0.85rem;\r\n  }\r\n  \r\n  button {\r\n    background: rgba(255, 255, 255, 0.1);\r\n    color: white;\r\n    padding: 0.4rem 1rem;\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    border-radius: 8px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    margin-top: 1rem;\r\n    transition: all 0.3s ease;\r\n    \r\n    &:hover {\r\n      background: rgba(255, 255, 255, 0.2);\r\n      transform: translateY(-1px);\r\n    }\r\n  }\r\n`;\r\n\r\nconst SurveyDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, refreshUser } = useAuth();\r\n  const [survey, setSurvey] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [responses, setResponses] = useState({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [completed, setCompleted] = useState(false);\r\n  const [startTime] = useState(Date.now());\r\n\r\n  const fetchSurvey = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(`/surveys/${id}`);\r\n      if (response.data.success) {\r\n        const srv = response.data.survey;\r\n        const normalizedQuestions = (srv.questions || []).map((q, idx) => {\r\n          const idSafe = q.id !== undefined ? q.id : idx + 1;\r\n          switch (q.type) {\r\n            case 'mcq_single':\r\n              return { ...q, id: idSafe, type: 'multiple-choice', options: q.options || [] };\r\n            case 'mcq_multi':\r\n              return { ...q, id: idSafe, type: 'checkbox', options: q.options || [] };\r\n            case 'short_text':\r\n              return { ...q, id: idSafe, type: 'text' };\r\n            case 'number':\r\n              return { ...q, id: idSafe, type: 'number' };\r\n            case 'rating':\r\n              return { ...q, id: idSafe, type: 'rating', maxRating: q.scale || q.maxRating || 5 };\r\n            case 'dropdown':\r\n              return { ...q, id: idSafe, type: 'dropdown', options: q.options || [] };\r\n            case 'date':\r\n              return { ...q, id: idSafe, type: 'date', format: q.format || 'yyyy-MM-dd' };\r\n            case 'matrix':\r\n              return { ...q, id: idSafe, type: 'matrix', rows: q.rows || [], columns: q.columns || [] };\r\n            default:\r\n              return { ...q, id: idSafe };\r\n          }\r\n        });\r\n        setSurvey({ ...srv, questions: normalizedQuestions });\r\n      } else {\r\n        setError('Survey not found or not available');\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400 && \r\n          error.response.data.message === 'Survey already completed') {\r\n        setCompleted(true);\r\n        setError('You have already completed this survey. Thank you for your participation!');\r\n      } else {\r\n        setError('Failed to load survey. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchSurvey();\r\n  }, [fetchSurvey]);\r\n\r\n  const handleResponseChange = (questionId, value) => {\r\n    setResponses(prev => ({\r\n      ...prev,\r\n      [questionId]: value\r\n    }));\r\n  };\r\n\r\n  const isCurrentQuestionAnswered = () => {\r\n    if (!survey || !survey.questions) return false;\r\n    const question = survey.questions[currentQuestion];\r\n    const response = responses[question.id];\r\n    \r\n    // For checkbox questions, check if at least one option is selected\r\n    if (question.type === 'checkbox') {\r\n      return Array.isArray(response) && response.length > 0;\r\n    }\r\n    // For matrix, require selection for each row if required\r\n    if (question.type === 'matrix') {\r\n      const rowCount = (question.rows || []).length;\r\n      if (!response || typeof response !== 'object') return false;\r\n      const answeredRows = Object.keys(response).length;\r\n      return answeredRows >= rowCount;\r\n    }\r\n    \r\n    // For other questions, check if response exists and is not empty\r\n    return response !== undefined && response !== '' && response !== null;\r\n  };\r\n\r\n  const validateAllRequiredQuestions = () => {\r\n    if (!survey || !survey.questions) return false;\r\n    \r\n    for (const question of survey.questions) {\r\n      if (question.required) {\r\n        const response = responses[question.id];\r\n        \r\n        // For checkbox questions, check if at least one option is selected\r\n        if (question.type === 'checkbox') {\r\n          if (!Array.isArray(response) || response.length === 0) {\r\n            return false;\r\n          }\r\n        } else {\r\n          // For other questions, check if response exists and is not empty\r\n          if (response === undefined || response === '' || response === null) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const getRequiredQuestionsStatus = () => {\r\n    if (!survey || !survey.questions) return { completed: 0, total: 0 };\r\n    \r\n    const requiredQuestions = survey.questions.filter(q => q.required);\r\n    const completedRequired = requiredQuestions.filter(question => {\r\n      const response = responses[question.id];\r\n      \r\n      if (question.type === 'checkbox') {\r\n        return Array.isArray(response) && response.length > 0;\r\n      }\r\n      \r\n      return response !== undefined && response !== '' && response !== null;\r\n    });\r\n    \r\n    return {\r\n      completed: completedRequired.length,\r\n      total: requiredQuestions.length\r\n    };\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentQuestion < survey.questions.length - 1) {\r\n      setCurrentQuestion(prev => prev + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentQuestion > 0) {\r\n      setCurrentQuestion(prev => prev - 1);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    // Validate all required questions are answered\r\n    if (!validateAllRequiredQuestions()) {\r\n      setError('Please answer all required questions before submitting.');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\r\n      \r\n      const submissionData = {\r\n        responses,\r\n        timeSpent\r\n      };\r\n      \r\n      console.log('Submitting survey:', {\r\n        surveyId: survey.id,\r\n        submissionData,\r\n        endpoint: `/surveys/${survey.id}/submit`\r\n      });\r\n      \r\n      const response = await axios.post(`/surveys/${survey.id}/submit`, submissionData);\r\n      \r\n      console.log('Survey submission response:', response.data);\r\n      \r\n      if (response.data.success) {\r\n        setCompleted(true);\r\n        // Refresh user data to get updated points\r\n        await refreshUser();\r\n        // Navigate back to surveys page with completion flag to trigger data refresh\r\n        setTimeout(() => {\r\n          navigate('/surveys?completed=true&refresh=true');\r\n        }, 2000);\r\n      } else {\r\n        setError(response.data.message || 'Failed to submit survey');\r\n      }\r\n    } catch (error) {\r\n      console.error('Survey submission error:', error);\r\n      console.error('Error response:', error.response?.data);\r\n      setError(error.response?.data?.message || 'Failed to submit survey. Please try again.');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle keyboard navigation\r\n  const handleKeyPress = useCallback((event) => {\r\n    // Only handle Enter key\r\n    if (event.key !== 'Enter') return;\r\n    \r\n    // Don't interfere with form inputs that are focused\r\n    const activeElement = document.activeElement;\r\n    if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\r\n      // For text inputs, let Enter work normally (or move to next question)\r\n      if (activeElement.type === 'text' || activeElement.type === 'email' || activeElement.type === 'tel' || \r\n          activeElement.type === 'url' || activeElement.type === 'number' || activeElement.type === 'date' || \r\n          activeElement.tagName === 'TEXTAREA') {\r\n        event.preventDefault();\r\n        // Move to next question or submit\r\n        if (currentQuestion === survey.questions.length - 1) {\r\n          if (validateAllRequiredQuestions()) {\r\n            handleSubmit();\r\n          }\r\n        } else {\r\n          const currentQuestionData = survey.questions[currentQuestion];\r\n          if (!currentQuestionData.required || isCurrentQuestionAnswered()) {\r\n            handleNext();\r\n          }\r\n        }\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // For radio buttons and checkboxes, Enter should move to next question\r\n    event.preventDefault();\r\n    \r\n    if (currentQuestion === survey.questions.length - 1) {\r\n      // Last question - submit if all required questions are answered\r\n      if (validateAllRequiredQuestions()) {\r\n        handleSubmit();\r\n      }\r\n    } else {\r\n      // Not last question - move to next if current question is answered (if required)\r\n      const currentQuestionData = survey.questions[currentQuestion];\r\n      if (!currentQuestionData.required || isCurrentQuestionAnswered()) {\r\n        handleNext();\r\n      }\r\n    }\r\n  }, [currentQuestion, survey, responses, handleNext, handleSubmit, isCurrentQuestionAnswered, validateAllRequiredQuestions]);\r\n\r\n  // Add keyboard event listener\r\n  useEffect(() => {\r\n    if (survey && survey.questions && survey.questions.length > 0) {\r\n      document.addEventListener('keydown', handleKeyPress);\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyPress);\r\n      };\r\n    }\r\n  }, [handleKeyPress, survey]);\r\n\r\n  const formatDuration = (minutes) => {\r\n    if (minutes < 60) {\r\n      return `${minutes} min`;\r\n    }\r\n    const hours = Math.floor(minutes / 60);\r\n    const remainingMinutes = minutes % 60;\r\n    return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}m` : `${hours}h`;\r\n  };\r\n\r\n  const renderQuestion = (question) => {\r\n    const currentResponse = responses[question.id];\r\n    \r\n    switch (question.type) {\r\n      case 'multiple-choice':\r\n        return (\r\n          <OptionsContainer>\r\n            {question.options.map((option, index) => (\r\n              <OptionLabel\r\n                key={index}\r\n                className={currentResponse === option ? 'selected' : ''}\r\n              >\r\n                <input\r\n                  type=\"radio\"\r\n                  name={`question_${question.id}`}\r\n                  value={option}\r\n                  checked={currentResponse === option}\r\n                  onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n                />\r\n                <span>{option}</span>\r\n              </OptionLabel>\r\n            ))}\r\n          </OptionsContainer>\r\n        );\r\n        \r\n      case 'checkbox':\r\n        return (\r\n          <OptionsContainer>\r\n            {question.options.map((option, index) => {\r\n              const selectedOptions = currentResponse || [];\r\n              return (\r\n                <OptionLabel\r\n                  key={index}\r\n                  className={selectedOptions.includes(option) ? 'selected' : ''}\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={option}\r\n                    checked={selectedOptions.includes(option)}\r\n                    onChange={(e) => {\r\n                      const newSelection = selectedOptions.includes(option)\r\n                        ? selectedOptions.filter(item => item !== option)\r\n                        : [...selectedOptions, option];\r\n                      handleResponseChange(question.id, newSelection);\r\n                    }}\r\n                  />\r\n                  <span>{option}</span>\r\n                </OptionLabel>\r\n              );\r\n            })}\r\n          </OptionsContainer>\r\n        );\r\n\r\n      case 'dropdown':\r\n        return (\r\n          <select\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            style={{ padding: '0.6rem', border: '1px solid #e0e0e0', borderRadius: '6px' }}\r\n          >\r\n            <option value=\"\">Select an option</option>\r\n            {question.options.map((opt, idx) => (\r\n              <option key={idx} value={opt}>{opt}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n        \r\n      case 'text':\r\n        return (\r\n          <TextInput\r\n            type=\"text\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter your answer...\"\r\n          />\r\n        );\r\n        \r\n      case 'textarea':\r\n        return (\r\n          <TextArea\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter your detailed response...\"\r\n          />\r\n        );\r\n        \r\n      case 'rating':\r\n        const maxRating = question.maxRating || 5;\r\n        return (\r\n          <OptionsContainer>\r\n            {Array.from({ length: maxRating }, (_, i) => i + 1).map(rating => (\r\n              <OptionLabel\r\n                key={rating}\r\n                className={currentResponse === rating ? 'selected' : ''}\r\n              >\r\n                <input\r\n                  type=\"radio\"\r\n                  name={`question_${question.id}`}\r\n                  value={rating}\r\n                  checked={currentResponse === rating}\r\n                  onChange={(e) => handleResponseChange(question.id, parseInt(e.target.value))}\r\n                />\r\n                <span>{rating}</span>\r\n              </OptionLabel>\r\n            ))}\r\n          </OptionsContainer>\r\n        );\r\n        \r\n      case 'fill-in-the-blank':\r\n        return (\r\n          <TextInput\r\n            type=\"text\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Fill in the blank...\"\r\n          />\r\n        );\r\n        \r\n      case 'date':\r\n        return (\r\n          <TextInput\r\n            type=\"date\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Select a date...\"\r\n          />\r\n        );\r\n        \r\n      case 'number':\r\n        return (\r\n          <TextInput\r\n            type=\"number\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter a number...\"\r\n          />\r\n        );\r\n\r\n      case 'matrix':\r\n        const rows = question.rows || [];\r\n        const cols = question.columns || [];\r\n        const resp = currentResponse || {};\r\n        return (\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr>\r\n                  <th style={{ textAlign: 'left', padding: '8px' }}></th>\r\n                  {cols.map((c, i) => (\r\n                    <th key={i} style={{ textAlign: 'center', padding: '8px', fontSize: '0.85rem', color: '#64748b' }}>{c}</th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {rows.map((r, ri) => (\r\n                  <tr key={ri}>\r\n                    <td style={{ padding: '8px', fontSize: '0.9rem', color: '#374151' }}>{r}</td>\r\n                    {cols.map((c, ci) => (\r\n                      <td key={ci} style={{ textAlign: 'center', padding: '8px' }}>\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={`matrix_${question.id}_row_${ri}`}\r\n                          checked={resp[ri] === ci}\r\n                          onChange={() => handleResponseChange(question.id, { ...resp, [ri]: ci })}\r\n                        />\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        );\r\n        \r\n      case 'email':\r\n        return (\r\n          <TextInput\r\n            type=\"email\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter your email...\"\r\n          />\r\n        );\r\n        \r\n      case 'phone':\r\n        return (\r\n          <TextInput\r\n            type=\"tel\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter your phone number...\"\r\n          />\r\n        );\r\n        \r\n      case 'url':\r\n        return (\r\n          <TextInput\r\n            type=\"url\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder=\"Enter a URL...\"\r\n          />\r\n        );\r\n        \r\n      default:\r\n        // Fallback to text input for any unrecognized type\r\n        return (\r\n          <TextInput\r\n            type=\"text\"\r\n            value={currentResponse || ''}\r\n            onChange={(e) => handleResponseChange(question.id, e.target.value)}\r\n            placeholder={`Enter your answer for ${question.type} question...`}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error && !survey) {\r\n    return (\r\n      <SurveyContainer>\r\n        <ErrorMessage>\r\n          <FaExclamationTriangle />\r\n          {error}\r\n        </ErrorMessage>\r\n        <BackButton onClick={() => navigate('/surveys')}>\r\n          <FaArrowLeft />\r\n          Back to Surveys\r\n        </BackButton>\r\n      </SurveyContainer>\r\n    );\r\n  }\r\n\r\n  if (completed) {\r\n    return (\r\n      <SurveyContainer>\r\n        <SuccessMessage>\r\n          <FaCheckCircle size={48} style={{ color: '#27ae60' }} />\r\n          <h3>Survey Already Completed!</h3>\r\n          <p>{error || 'Thank you for your participation.'}</p>\r\n          {survey && survey.pointsReward && (\r\n            <p>You've earned <strong>{survey.pointsReward} points</strong> for completing this survey.</p>\r\n          )}\r\n          <button onClick={() => navigate('/surveys?completed=true')}>Back to Surveys</button>\r\n        </SuccessMessage>\r\n      </SurveyContainer>\r\n    );\r\n  }\r\n\r\n  if (!survey || !survey.questions || survey.questions.length === 0) {\r\n    return (\r\n      <SurveyContainer>\r\n        <ErrorMessage>\r\n          <FaExclamationTriangle />\r\n          This survey is not available or has no questions.\r\n        </ErrorMessage>\r\n        <BackButton onClick={() => navigate('/surveys')}>\r\n          <FaArrowLeft />\r\n          Back to Surveys\r\n        </BackButton>\r\n      </SurveyContainer>\r\n    );\r\n  }\r\n\r\n  const currentQuestionData = survey.questions[currentQuestion];\r\n  const progress = ((currentQuestion + 1) / survey.questions.length) * 100;\r\n\r\n  return (\r\n    <SurveyContainer>\r\n      <BackButton onClick={() => navigate('/surveys')}>\r\n        <FaArrowLeft />\r\n        Back to Surveys\r\n      </BackButton>\r\n\r\n      <SurveyHeader>\r\n        <h1>{survey.title}</h1>\r\n        <p>{survey.description}</p>\r\n      </SurveyHeader>\r\n      \r\n      <SurveyMeta>\r\n        <MetaItem>\r\n          <Clock size={20} color=\"#0fc179\" />\r\n          <div>\r\n            <div style={{fontWeight: '600', color: '#2c3e50'}}>{formatDuration(survey.estimatedTime)}</div>\r\n            <div style={{fontSize: '0.85rem', color: '#64748b'}}>Estimated time</div>\r\n          </div>\r\n        </MetaItem>\r\n        <MetaItem>\r\n          <DollarSign size={20} color=\"#10b981\" />\r\n          <div>\r\n            <div style={{fontWeight: '600', color: '#2c3e50'}}>{survey.pointsReward} points</div>\r\n            <div style={{fontSize: '0.85rem', color: '#64748b'}}>Reward</div>\r\n          </div>\r\n        </MetaItem>\r\n        <MetaItem>\r\n          <Users size={20} color=\"#f59e0b\" />\r\n          <div>\r\n            <div style={{fontWeight: '600', color: '#2c3e50'}}>{survey.targetAudience || 'General'}</div>\r\n            <div style={{fontSize: '0.85rem', color: '#64748b'}}>Target audience</div>\r\n          </div>\r\n        </MetaItem>\r\n      </SurveyMeta>\r\n\r\n      {error && (\r\n        <ErrorMessage>\r\n          <FaExclamationTriangle />\r\n          {error}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      <ContentGrid>\r\n        <div>\r\n          <QuestionCard>\r\n            <div className=\"question-header\">\r\n              <div className=\"question-number\">\r\n                Question {currentQuestion + 1}\r\n              </div>\r\n              <h2 className=\"question-text\">\r\n                {currentQuestionData.question}\r\n              </h2>\r\n              {currentQuestionData.required && (\r\n                <div className=\"question-required\">\r\n                  * This question is required\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"question-content\">\r\n              {renderQuestion(currentQuestionData)}\r\n            </div>\r\n            \r\n            {/* Enter key hint */}\r\n            <div style={{\r\n              marginTop: '0.75rem',\r\n              padding: '0.5rem',\r\n              background: 'rgba(15, 193, 121, 0.05)',\r\n              border: '1px solid rgba(15, 193, 121, 0.1)',\r\n              borderRadius: '4px',\r\n              fontSize: '0.8rem',\r\n              color: '#64748b',\r\n              textAlign: 'center'\r\n            }}>\r\n               Press <kbd style={{\r\n                background: '#f1f5f9',\r\n                border: '1px solid #cbd5e1',\r\n                borderRadius: '3px',\r\n                padding: '0.1rem 0.3rem',\r\n                fontSize: '0.75rem',\r\n                fontFamily: 'monospace'\r\n              }}>Enter</kbd> to {currentQuestion === survey.questions.length - 1 ? 'submit survey' : 'move to next question'}\r\n            </div>\r\n          </QuestionCard>\r\n\r\n          <NavigationButtons>\r\n            <button\r\n              className=\"previous\"\r\n              onClick={handlePrevious}\r\n              disabled={currentQuestion === 0}\r\n            >\r\n              <ChevronLeft size={16} />\r\n              Previous\r\n            </button>\r\n            \r\n            {currentQuestion === survey.questions.length - 1 ? (\r\n              <button\r\n                className=\"submit\"\r\n                onClick={handleSubmit}\r\n                disabled={submitting || !validateAllRequiredQuestions()}\r\n              >\r\n                {submitting ? 'Submitting...' : 'Submit Survey'}\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"next\"\r\n                onClick={handleNext}\r\n                disabled={currentQuestionData.required && !isCurrentQuestionAnswered()}\r\n              >\r\n                Next\r\n                <ChevronRight size={16} />\r\n              </button>\r\n            )}\r\n          </NavigationButtons>\r\n        </div>\r\n        \r\n        <div>\r\n          <Card>\r\n             <CardHeader>\r\n               <h2>Progress</h2>\r\n               <span style={{color: '#0fc179', fontWeight: '600'}}>\r\n                 {Math.round(progress)}%\r\n               </span>\r\n             </CardHeader>\r\n             <CardContent>\r\n               <div className=\"progress-track\">\r\n                 <div className=\"progress-fill\" style={{ width: `${progress}%` }} />\r\n               </div>\r\n               <div style={{marginTop: '0.5rem', fontSize: '0.9rem', color: '#64748b'}}>\r\n                 Question {currentQuestion + 1} of {survey.questions.length}\r\n               </div>\r\n             </CardContent>\r\n           </Card>\r\n          \r\n          <Card style={{marginTop: '1rem'}}>\r\n             <CardHeader>\r\n               <h2>Survey Info</h2>\r\n             </CardHeader>\r\n             <CardContent>\r\n               <div style={{display: 'flex', flexDirection: 'column', gap: '0.8rem'}}>\r\n                 <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                   <span style={{color: '#64748b'}}>Total Questions:</span>\r\n                   <span style={{fontWeight: '500'}}>{survey.questions.length}</span>\r\n                 </div>\r\n                 <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                   <span style={{color: '#64748b'}}>Current:</span>\r\n                   <span style={{fontWeight: '500'}}>{currentQuestion + 1}</span>\r\n                 </div>\r\n                 <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                   <span style={{color: '#64748b'}}>Answered:</span>\r\n                   <span style={{fontWeight: '500'}}>{Object.keys(responses).length}</span>\r\n                 </div>\r\n                 <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                   <span style={{color: '#64748b'}}>Required:</span>\r\n                   <span style={{fontWeight: '500', color: getRequiredQuestionsStatus().completed === getRequiredQuestionsStatus().total ? '#059669' : '#e74c3c'}}>\r\n                     {getRequiredQuestionsStatus().completed}/{getRequiredQuestionsStatus().total}\r\n                   </span>\r\n                 </div>\r\n                 {!validateAllRequiredQuestions() && (\r\n                   <div style={{padding: '0.5rem', background: '#fef2f2', border: '1px solid #fecaca', borderRadius: '4px', fontSize: '0.8rem', color: '#dc2626'}}>\r\n                     Please complete all required questions to submit\r\n                   </div>\r\n                 )}\r\n               </div>\r\n             </CardContent>\r\n           </Card>\r\n        </div>\r\n      </ContentGrid>\r\n    </SurveyContainer>\r\n  );\r\n};\r\n\r\nexport default SurveyDetail;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,WAAW,EAAEC,aAAa,EAAEC,qBAAqB,QAAQ,gBAAgB;AAClF,SAASC,KAAK,EAAEC,KAAK,EAAEC,UAAU,EAAEC,WAAW,EAAEC,YAAY,QAAQ,cAAc;AAClF,SAASC,OAAO,QAAQ,yBAAyB;AACjD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,eAAe,GAAGH,MAAM,CAACI,GAAG;AAClC;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GALIF,eAAe;AAOrB,MAAMG,UAAU,GAAGN,MAAM,CAACO,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GArBIF,UAAU;AAuBhB,MAAMG,UAAU,GAAGT,MAAM,CAACI,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMM,YAAY,GAAGV,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACO,GAAA,GAnBID,YAAY;AAqBlB,MAAME,UAAU,GAAGZ,MAAM,CAACI,GAAG;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAACS,GAAA,GALID,UAAU;AAOhB,MAAME,QAAQ,GAAGd,MAAM,CAACI,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAfID,QAAQ;AAiBd,MAAME,WAAW,GAAGhB,MAAM,CAACI,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GARID,WAAW;AAUjB,MAAME,IAAI,GAAGlB,MAAM,CAACI,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC;AAACe,GAAA,GANID,IAAI;AAQV,MAAME,UAAU,GAAGpB,MAAM,CAACI,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiB,GAAA,GAZID,UAAU;AAchB,MAAME,WAAW,GAAGtB,MAAM,CAACI,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmB,GAAA,GAnCID,WAAW;AAuCjB,MAAME,YAAY,GAAGxB,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACqB,GAAA,GAvDID,YAAY;AAyDlB,MAAME,gBAAgB,GAAG1B,MAAM,CAACI,GAAG;AACnC;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GAJID,gBAAgB;AAMtB,MAAME,WAAW,GAAG5B,MAAM,CAAC6B,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAlCIF,WAAW;AAoCjB,MAAMG,SAAS,GAAG/B,MAAM,CAACgC,KAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAZIF,SAAS;AAcf,MAAMG,QAAQ,GAAGlC,MAAM,CAACmC,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,QAAQ;AAgBd,MAAMG,iBAAiB,GAAGrC,MAAM,CAACI,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GA3FID,iBAAiB;AA6FvB,MAAME,cAAc,GAAGvC,MAAM,CAACI,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoC,IAAA,GApBID,cAAc;AAsBpB,MAAME,YAAY,GAAGzC,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAXID,YAAY;AAalB,MAAME,cAAc,GAAG3C,MAAM,CAACI,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GApCID,cAAc;AAsCpB,MAAME,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM;IAAEC;EAAG,CAAC,GAAG3D,SAAS,CAAC,CAAC;EAC1B,MAAM4D,QAAQ,GAAG3D,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAE4D,IAAI;IAAEC;EAAY,CAAC,GAAGpD,OAAO,CAAC,CAAC;EACvC,MAAM,CAACqD,MAAM,EAAEC,SAAS,CAAC,GAAGnE,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACoE,OAAO,EAAEC,UAAU,CAAC,GAAGrE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsE,KAAK,EAAEC,QAAQ,CAAC,GAAGvE,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwE,eAAe,EAAEC,kBAAkB,CAAC,GAAGzE,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAAC0E,SAAS,EAAEC,YAAY,CAAC,GAAG3E,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAAC4E,UAAU,EAAEC,aAAa,CAAC,GAAG7E,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC8E,SAAS,EAAEC,YAAY,CAAC,GAAG/E,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgF,SAAS,CAAC,GAAGhF,QAAQ,CAACiF,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAExC,MAAMC,WAAW,GAAGjF,WAAW,CAAC,YAAY;IAC1C,IAAI;MACF,MAAMkF,QAAQ,GAAG,MAAMtE,KAAK,CAACuE,GAAG,CAAC,YAAYvB,EAAE,EAAE,CAAC;MAClD,IAAIsB,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE;QACzB,MAAMC,GAAG,GAAGJ,QAAQ,CAACE,IAAI,CAACpB,MAAM;QAChC,MAAMuB,mBAAmB,GAAG,CAACD,GAAG,CAACE,SAAS,IAAI,EAAE,EAAEC,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAK;UAChE,MAAMC,MAAM,GAAGF,CAAC,CAAC9B,EAAE,KAAKiC,SAAS,GAAGH,CAAC,CAAC9B,EAAE,GAAG+B,GAAG,GAAG,CAAC;UAClD,QAAQD,CAAC,CAACI,IAAI;YACZ,KAAK,YAAY;cACf,OAAO;gBAAE,GAAGJ,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,iBAAiB;gBAAEC,OAAO,EAAEL,CAAC,CAACK,OAAO,IAAI;cAAG,CAAC;YAChF,KAAK,WAAW;cACd,OAAO;gBAAE,GAAGL,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,UAAU;gBAAEC,OAAO,EAAEL,CAAC,CAACK,OAAO,IAAI;cAAG,CAAC;YACzE,KAAK,YAAY;cACf,OAAO;gBAAE,GAAGL,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE;cAAO,CAAC;YAC3C,KAAK,QAAQ;cACX,OAAO;gBAAE,GAAGJ,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE;cAAS,CAAC;YAC7C,KAAK,QAAQ;cACX,OAAO;gBAAE,GAAGJ,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,QAAQ;gBAAEE,SAAS,EAAEN,CAAC,CAACO,KAAK,IAAIP,CAAC,CAACM,SAAS,IAAI;cAAE,CAAC;YACrF,KAAK,UAAU;cACb,OAAO;gBAAE,GAAGN,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,UAAU;gBAAEC,OAAO,EAAEL,CAAC,CAACK,OAAO,IAAI;cAAG,CAAC;YACzE,KAAK,MAAM;cACT,OAAO;gBAAE,GAAGL,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,MAAM;gBAAEI,MAAM,EAAER,CAAC,CAACQ,MAAM,IAAI;cAAa,CAAC;YAC7E,KAAK,QAAQ;cACX,OAAO;gBAAE,GAAGR,CAAC;gBAAE9B,EAAE,EAAEgC,MAAM;gBAAEE,IAAI,EAAE,QAAQ;gBAAEK,IAAI,EAAET,CAAC,CAACS,IAAI,IAAI,EAAE;gBAAEC,OAAO,EAAEV,CAAC,CAACU,OAAO,IAAI;cAAG,CAAC;YAC3F;cACE,OAAO;gBAAE,GAAGV,CAAC;gBAAE9B,EAAE,EAAEgC;cAAO,CAAC;UAC/B;QACF,CAAC,CAAC;QACF3B,SAAS,CAAC;UAAE,GAAGqB,GAAG;UAAEE,SAAS,EAAED;QAAoB,CAAC,CAAC;MACvD,CAAC,MAAM;QACLlB,QAAQ,CAAC,mCAAmC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACd,IAAIA,KAAK,CAACc,QAAQ,IAAId,KAAK,CAACc,QAAQ,CAACmB,MAAM,KAAK,GAAG,IAC/CjC,KAAK,CAACc,QAAQ,CAACE,IAAI,CAACkB,OAAO,KAAK,0BAA0B,EAAE;QAC9DzB,YAAY,CAAC,IAAI,CAAC;QAClBR,QAAQ,CAAC,2EAA2E,CAAC;MACvF,CAAC,MAAM;QACLA,QAAQ,CAAC,0CAA0C,CAAC;MACtD;IACF,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACP,EAAE,CAAC,CAAC;EAER7D,SAAS,CAAC,MAAM;IACdkF,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMsB,oBAAoB,GAAGA,CAACC,UAAU,EAAEC,KAAK,KAAK;IAClDhC,YAAY,CAACiC,IAAI,KAAK;MACpB,GAAGA,IAAI;MACP,CAACF,UAAU,GAAGC;IAChB,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,yBAAyB,GAAGA,CAAA,KAAM;IACtC,IAAI,CAAC3C,MAAM,IAAI,CAACA,MAAM,CAACwB,SAAS,EAAE,OAAO,KAAK;IAC9C,MAAMoB,QAAQ,GAAG5C,MAAM,CAACwB,SAAS,CAAClB,eAAe,CAAC;IAClD,MAAMY,QAAQ,GAAGV,SAAS,CAACoC,QAAQ,CAAChD,EAAE,CAAC;;IAEvC;IACA,IAAIgD,QAAQ,CAACd,IAAI,KAAK,UAAU,EAAE;MAChC,OAAOe,KAAK,CAACC,OAAO,CAAC5B,QAAQ,CAAC,IAAIA,QAAQ,CAAC6B,MAAM,GAAG,CAAC;IACvD;IACA;IACA,IAAIH,QAAQ,CAACd,IAAI,KAAK,QAAQ,EAAE;MAC9B,MAAMkB,QAAQ,GAAG,CAACJ,QAAQ,CAACT,IAAI,IAAI,EAAE,EAAEY,MAAM;MAC7C,IAAI,CAAC7B,QAAQ,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE,OAAO,KAAK;MAC3D,MAAM+B,YAAY,GAAGC,MAAM,CAACC,IAAI,CAACjC,QAAQ,CAAC,CAAC6B,MAAM;MACjD,OAAOE,YAAY,IAAID,QAAQ;IACjC;;IAEA;IACA,OAAO9B,QAAQ,KAAKW,SAAS,IAAIX,QAAQ,KAAK,EAAE,IAAIA,QAAQ,KAAK,IAAI;EACvE,CAAC;EAED,MAAMkC,4BAA4B,GAAGA,CAAA,KAAM;IACzC,IAAI,CAACpD,MAAM,IAAI,CAACA,MAAM,CAACwB,SAAS,EAAE,OAAO,KAAK;IAE9C,KAAK,MAAMoB,QAAQ,IAAI5C,MAAM,CAACwB,SAAS,EAAE;MACvC,IAAIoB,QAAQ,CAACS,QAAQ,EAAE;QACrB,MAAMnC,QAAQ,GAAGV,SAAS,CAACoC,QAAQ,CAAChD,EAAE,CAAC;;QAEvC;QACA,IAAIgD,QAAQ,CAACd,IAAI,KAAK,UAAU,EAAE;UAChC,IAAI,CAACe,KAAK,CAACC,OAAO,CAAC5B,QAAQ,CAAC,IAAIA,QAAQ,CAAC6B,MAAM,KAAK,CAAC,EAAE;YACrD,OAAO,KAAK;UACd;QACF,CAAC,MAAM;UACL;UACA,IAAI7B,QAAQ,KAAKW,SAAS,IAAIX,QAAQ,KAAK,EAAE,IAAIA,QAAQ,KAAK,IAAI,EAAE;YAClE,OAAO,KAAK;UACd;QACF;MACF;IACF;IAEA,OAAO,IAAI;EACb,CAAC;EAED,MAAMoC,0BAA0B,GAAGA,CAAA,KAAM;IACvC,IAAI,CAACtD,MAAM,IAAI,CAACA,MAAM,CAACwB,SAAS,EAAE,OAAO;MAAEZ,SAAS,EAAE,CAAC;MAAE2C,KAAK,EAAE;IAAE,CAAC;IAEnE,MAAMC,iBAAiB,GAAGxD,MAAM,CAACwB,SAAS,CAACiC,MAAM,CAAC/B,CAAC,IAAIA,CAAC,CAAC2B,QAAQ,CAAC;IAClE,MAAMK,iBAAiB,GAAGF,iBAAiB,CAACC,MAAM,CAACb,QAAQ,IAAI;MAC7D,MAAM1B,QAAQ,GAAGV,SAAS,CAACoC,QAAQ,CAAChD,EAAE,CAAC;MAEvC,IAAIgD,QAAQ,CAACd,IAAI,KAAK,UAAU,EAAE;QAChC,OAAOe,KAAK,CAACC,OAAO,CAAC5B,QAAQ,CAAC,IAAIA,QAAQ,CAAC6B,MAAM,GAAG,CAAC;MACvD;MAEA,OAAO7B,QAAQ,KAAKW,SAAS,IAAIX,QAAQ,KAAK,EAAE,IAAIA,QAAQ,KAAK,IAAI;IACvE,CAAC,CAAC;IAEF,OAAO;MACLN,SAAS,EAAE8C,iBAAiB,CAACX,MAAM;MACnCQ,KAAK,EAAEC,iBAAiB,CAACT;IAC3B,CAAC;EACH,CAAC;EAED,MAAMY,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIrD,eAAe,GAAGN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,EAAE;MACjDxC,kBAAkB,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACtC;EACF,CAAC;EAED,MAAMkB,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAItD,eAAe,GAAG,CAAC,EAAE;MACvBC,kBAAkB,CAACmC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACtC;EACF,CAAC;EAED,MAAMmB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B;IACA,IAAI,CAACT,4BAA4B,CAAC,CAAC,EAAE;MACnC/C,QAAQ,CAAC,yDAAyD,CAAC;MACnE;IACF;IAEAM,aAAa,CAAC,IAAI,CAAC;IACnBN,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMyD,SAAS,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACjD,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS,IAAI,IAAI,CAAC;MAE7D,MAAMmD,cAAc,GAAG;QACrBzD,SAAS;QACTsD;MACF,CAAC;MAEDI,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;QAChCC,QAAQ,EAAEpE,MAAM,CAACJ,EAAE;QACnBqE,cAAc;QACdI,QAAQ,EAAE,YAAYrE,MAAM,CAACJ,EAAE;MACjC,CAAC,CAAC;MAEF,MAAMsB,QAAQ,GAAG,MAAMtE,KAAK,CAAC0H,IAAI,CAAC,YAAYtE,MAAM,CAACJ,EAAE,SAAS,EAAEqE,cAAc,CAAC;MAEjFC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEjD,QAAQ,CAACE,IAAI,CAAC;MAEzD,IAAIF,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE;QACzBR,YAAY,CAAC,IAAI,CAAC;QAClB;QACA,MAAMd,WAAW,CAAC,CAAC;QACnB;QACAwE,UAAU,CAAC,MAAM;UACf1E,QAAQ,CAAC,sCAAsC,CAAC;QAClD,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,MAAM;QACLQ,QAAQ,CAACa,QAAQ,CAACE,IAAI,CAACkB,OAAO,IAAI,yBAAyB,CAAC;MAC9D;IACF,CAAC,CAAC,OAAOlC,KAAK,EAAE;MAAA,IAAAoE,eAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACdR,OAAO,CAAC9D,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD8D,OAAO,CAAC9D,KAAK,CAAC,iBAAiB,GAAAoE,eAAA,GAAEpE,KAAK,CAACc,QAAQ,cAAAsD,eAAA,uBAAdA,eAAA,CAAgBpD,IAAI,CAAC;MACtDf,QAAQ,CAAC,EAAAoE,gBAAA,GAAArE,KAAK,CAACc,QAAQ,cAAAuD,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBrD,IAAI,cAAAsD,qBAAA,uBAApBA,qBAAA,CAAsBpC,OAAO,KAAI,4CAA4C,CAAC;IACzF,CAAC,SAAS;MACR3B,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;;EAED;EACA,MAAMgE,cAAc,GAAG3I,WAAW,CAAE4I,KAAK,IAAK;IAC5C;IACA,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,EAAE;;IAE3B;IACA,MAAMC,aAAa,GAAGC,QAAQ,CAACD,aAAa;IAC5C,IAAIA,aAAa,KAAKA,aAAa,CAACE,OAAO,KAAK,OAAO,IAAIF,aAAa,CAACE,OAAO,KAAK,UAAU,CAAC,EAAE;MAChG;MACA,IAAIF,aAAa,CAAChD,IAAI,KAAK,MAAM,IAAIgD,aAAa,CAAChD,IAAI,KAAK,OAAO,IAAIgD,aAAa,CAAChD,IAAI,KAAK,KAAK,IAC/FgD,aAAa,CAAChD,IAAI,KAAK,KAAK,IAAIgD,aAAa,CAAChD,IAAI,KAAK,QAAQ,IAAIgD,aAAa,CAAChD,IAAI,KAAK,MAAM,IAChGgD,aAAa,CAACE,OAAO,KAAK,UAAU,EAAE;QACxCJ,KAAK,CAACK,cAAc,CAAC,CAAC;QACtB;QACA,IAAI3E,eAAe,KAAKN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,EAAE;UACnD,IAAIK,4BAA4B,CAAC,CAAC,EAAE;YAClCS,YAAY,CAAC,CAAC;UAChB;QACF,CAAC,MAAM;UACL,MAAMqB,mBAAmB,GAAGlF,MAAM,CAACwB,SAAS,CAAClB,eAAe,CAAC;UAC7D,IAAI,CAAC4E,mBAAmB,CAAC7B,QAAQ,IAAIV,yBAAyB,CAAC,CAAC,EAAE;YAChEgB,UAAU,CAAC,CAAC;UACd;QACF;QACA;MACF;IACF;;IAEA;IACAiB,KAAK,CAACK,cAAc,CAAC,CAAC;IAEtB,IAAI3E,eAAe,KAAKN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,EAAE;MACnD;MACA,IAAIK,4BAA4B,CAAC,CAAC,EAAE;QAClCS,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,MAAM;MACL;MACA,MAAMqB,mBAAmB,GAAGlF,MAAM,CAACwB,SAAS,CAAClB,eAAe,CAAC;MAC7D,IAAI,CAAC4E,mBAAmB,CAAC7B,QAAQ,IAAIV,yBAAyB,CAAC,CAAC,EAAE;QAChEgB,UAAU,CAAC,CAAC;MACd;IACF;EACF,CAAC,EAAE,CAACrD,eAAe,EAAEN,MAAM,EAAEQ,SAAS,EAAEmD,UAAU,EAAEE,YAAY,EAAElB,yBAAyB,EAAES,4BAA4B,CAAC,CAAC;;EAE3H;EACArH,SAAS,CAAC,MAAM;IACd,IAAIiE,MAAM,IAAIA,MAAM,CAACwB,SAAS,IAAIxB,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,EAAE;MAC7DgC,QAAQ,CAACI,gBAAgB,CAAC,SAAS,EAAER,cAAc,CAAC;MACpD,OAAO,MAAM;QACXI,QAAQ,CAACK,mBAAmB,CAAC,SAAS,EAAET,cAAc,CAAC;MACzD,CAAC;IACH;EACF,CAAC,EAAE,CAACA,cAAc,EAAE3E,MAAM,CAAC,CAAC;EAE5B,MAAMqF,cAAc,GAAIC,OAAO,IAAK;IAClC,IAAIA,OAAO,GAAG,EAAE,EAAE;MAChB,OAAO,GAAGA,OAAO,MAAM;IACzB;IACA,MAAMC,KAAK,GAAGxB,IAAI,CAACC,KAAK,CAACsB,OAAO,GAAG,EAAE,CAAC;IACtC,MAAME,gBAAgB,GAAGF,OAAO,GAAG,EAAE;IACrC,OAAOE,gBAAgB,GAAG,CAAC,GAAG,GAAGD,KAAK,KAAKC,gBAAgB,GAAG,GAAG,GAAGD,KAAK,GAAG;EAC9E,CAAC;EAED,MAAME,cAAc,GAAI7C,QAAQ,IAAK;IACnC,MAAM8C,eAAe,GAAGlF,SAAS,CAACoC,QAAQ,CAAChD,EAAE,CAAC;IAE9C,QAAQgD,QAAQ,CAACd,IAAI;MACnB,KAAK,iBAAiB;QACpB,oBACE/E,OAAA,CAACwB,gBAAgB;UAAAoH,QAAA,EACd/C,QAAQ,CAACb,OAAO,CAACN,GAAG,CAAC,CAACmE,MAAM,EAAEC,KAAK,kBAClC9I,OAAA,CAAC0B,WAAW;YAEVqH,SAAS,EAAEJ,eAAe,KAAKE,MAAM,GAAG,UAAU,GAAG,EAAG;YAAAD,QAAA,gBAExD5I,OAAA;cACE+E,IAAI,EAAC,OAAO;cACZiE,IAAI,EAAE,YAAYnD,QAAQ,CAAChD,EAAE,EAAG;cAChC6C,KAAK,EAAEmD,MAAO;cACdI,OAAO,EAAEN,eAAe,KAAKE,MAAO;cACpCK,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK;YAAE;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpE,CAAC,eACFxJ,OAAA;cAAA4I,QAAA,EAAOC;YAAM;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GAVhBV,KAAK;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWC,CACd;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACc,CAAC;MAGvB,KAAK,UAAU;QACb,oBACExJ,OAAA,CAACwB,gBAAgB;UAAAoH,QAAA,EACd/C,QAAQ,CAACb,OAAO,CAACN,GAAG,CAAC,CAACmE,MAAM,EAAEC,KAAK,KAAK;YACvC,MAAMW,eAAe,GAAGd,eAAe,IAAI,EAAE;YAC7C,oBACE3I,OAAA,CAAC0B,WAAW;cAEVqH,SAAS,EAAEU,eAAe,CAACC,QAAQ,CAACb,MAAM,CAAC,GAAG,UAAU,GAAG,EAAG;cAAAD,QAAA,gBAE9D5I,OAAA;gBACE+E,IAAI,EAAC,UAAU;gBACfW,KAAK,EAAEmD,MAAO;gBACdI,OAAO,EAAEQ,eAAe,CAACC,QAAQ,CAACb,MAAM,CAAE;gBAC1CK,QAAQ,EAAGC,CAAC,IAAK;kBACf,MAAMQ,YAAY,GAAGF,eAAe,CAACC,QAAQ,CAACb,MAAM,CAAC,GACjDY,eAAe,CAAC/C,MAAM,CAACkD,IAAI,IAAIA,IAAI,KAAKf,MAAM,CAAC,GAC/C,CAAC,GAAGY,eAAe,EAAEZ,MAAM,CAAC;kBAChCrD,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAE8G,YAAY,CAAC;gBACjD;cAAE;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACFxJ,OAAA;gBAAA4I,QAAA,EAAOC;cAAM;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GAdhBV,KAAK;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAeC,CAAC;UAElB,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACc,CAAC;MAGvB,KAAK,UAAU;QACb,oBACExJ,OAAA;UACE0F,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEmE,KAAK,EAAE;YAAEC,OAAO,EAAE,QAAQ;YAAEC,MAAM,EAAE,mBAAmB;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAApB,QAAA,gBAE/E5I,OAAA;YAAQ0F,KAAK,EAAC,EAAE;YAAAkD,QAAA,EAAC;UAAgB;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACzC3D,QAAQ,CAACb,OAAO,CAACN,GAAG,CAAC,CAACuF,GAAG,EAAErF,GAAG,kBAC7B5E,OAAA;YAAkB0F,KAAK,EAAEuE,GAAI;YAAArB,QAAA,EAAEqB;UAAG,GAArBrF,GAAG;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2B,CAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAGb,KAAK,MAAM;QACT,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,MAAM;UACXW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAsB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC;MAGN,KAAK,UAAU;QACb,oBACExJ,OAAA,CAACgC,QAAQ;UACP0D,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAiC;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC;MAGN,KAAK,QAAQ;QACX,MAAMvE,SAAS,GAAGY,QAAQ,CAACZ,SAAS,IAAI,CAAC;QACzC,oBACEjF,OAAA,CAACwB,gBAAgB;UAAAoH,QAAA,EACd9C,KAAK,CAACqE,IAAI,CAAC;YAAEnE,MAAM,EAAEf;UAAU,CAAC,EAAE,CAACmF,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC3F,GAAG,CAAC4F,MAAM,iBAC5DtK,OAAA,CAAC0B,WAAW;YAEVqH,SAAS,EAAEJ,eAAe,KAAK2B,MAAM,GAAG,UAAU,GAAG,EAAG;YAAA1B,QAAA,gBAExD5I,OAAA;cACE+E,IAAI,EAAC,OAAO;cACZiE,IAAI,EAAE,YAAYnD,QAAQ,CAAChD,EAAE,EAAG;cAChC6C,KAAK,EAAE4E,MAAO;cACdrB,OAAO,EAAEN,eAAe,KAAK2B,MAAO;cACpCpB,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAE0H,QAAQ,CAACpB,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAC;YAAE;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9E,CAAC,eACFxJ,OAAA;cAAA4I,QAAA,EAAO0B;YAAM;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GAVhBc,MAAM;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWA,CACd;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACc,CAAC;MAGvB,KAAK,mBAAmB;QACtB,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,MAAM;UACXW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAsB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC;MAGN,KAAK,MAAM;QACT,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,MAAM;UACXW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAkB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAGN,KAAK,QAAQ;QACX,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,QAAQ;UACbW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAmB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAGN,KAAK,QAAQ;QACX,MAAMpE,IAAI,GAAGS,QAAQ,CAACT,IAAI,IAAI,EAAE;QAChC,MAAMoF,IAAI,GAAG3E,QAAQ,CAACR,OAAO,IAAI,EAAE;QACnC,MAAMoF,IAAI,GAAG9B,eAAe,IAAI,CAAC,CAAC;QAClC,oBACE3I,OAAA;UAAK6J,KAAK,EAAE;YAAEa,SAAS,EAAE;UAAO,CAAE;UAAA9B,QAAA,eAChC5I,OAAA;YAAO6J,KAAK,EAAE;cAAEc,KAAK,EAAE,MAAM;cAAEC,cAAc,EAAE;YAAW,CAAE;YAAAhC,QAAA,gBAC1D5I,OAAA;cAAA4I,QAAA,eACE5I,OAAA;gBAAA4I,QAAA,gBACE5I,OAAA;kBAAI6J,KAAK,EAAE;oBAAEgB,SAAS,EAAE,MAAM;oBAAEf,OAAO,EAAE;kBAAM;gBAAE;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACtDgB,IAAI,CAAC9F,GAAG,CAAC,CAACoG,CAAC,EAAET,CAAC,kBACbrK,OAAA;kBAAY6J,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEf,OAAO,EAAE,KAAK;oBAAEiB,QAAQ,EAAE,SAAS;oBAAEC,KAAK,EAAE;kBAAU,CAAE;kBAAApC,QAAA,EAAEkC;gBAAC,GAA5FT,CAAC;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAgG,CAC3G,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACRxJ,OAAA;cAAA4I,QAAA,EACGxD,IAAI,CAACV,GAAG,CAAC,CAACuG,CAAC,EAAEC,EAAE,kBACdlL,OAAA;gBAAA4I,QAAA,gBACE5I,OAAA;kBAAI6J,KAAK,EAAE;oBAAEC,OAAO,EAAE,KAAK;oBAAEiB,QAAQ,EAAE,QAAQ;oBAAEC,KAAK,EAAE;kBAAU,CAAE;kBAAApC,QAAA,EAAEqC;gBAAC;kBAAA5B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EAC5EgB,IAAI,CAAC9F,GAAG,CAAC,CAACoG,CAAC,EAAEK,EAAE,kBACdnL,OAAA;kBAAa6J,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEf,OAAO,EAAE;kBAAM,CAAE;kBAAAlB,QAAA,eAC1D5I,OAAA;oBACE+E,IAAI,EAAC,OAAO;oBACZiE,IAAI,EAAE,UAAUnD,QAAQ,CAAChD,EAAE,QAAQqI,EAAE,EAAG;oBACxCjC,OAAO,EAAEwB,IAAI,CAACS,EAAE,CAAC,KAAKC,EAAG;oBACzBjC,QAAQ,EAAEA,CAAA,KAAM1D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAE;sBAAE,GAAG4H,IAAI;sBAAE,CAACS,EAAE,GAAGC;oBAAG,CAAC;kBAAE;oBAAA9B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1E;gBAAC,GANK2B,EAAE;kBAAA9B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAOP,CACL,CAAC;cAAA,GAXK0B,EAAE;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAYP,CACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAGV,KAAK,OAAO;QACV,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,OAAO;UACZW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAqB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAGN,KAAK,OAAO;QACV,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,KAAK;UACVW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAA4B;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC;MAGN,KAAK,KAAK;QACR,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,KAAK;UACVW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAC;QAAgB;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC;MAGN;QACE;QACA,oBACExJ,OAAA,CAAC6B,SAAS;UACRkD,IAAI,EAAC,MAAM;UACXW,KAAK,EAAEiD,eAAe,IAAI,EAAG;UAC7BO,QAAQ,EAAGC,CAAC,IAAK3D,oBAAoB,CAACK,QAAQ,CAAChD,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAC1D,KAAK,CAAE;UACnEwE,WAAW,EAAE,yBAAyBrE,QAAQ,CAACd,IAAI;QAAe;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC;IAER;EACF,CAAC;EAED,IAAIrG,OAAO,EAAE;IACX,oBAAOnD,OAAA,CAACqC,cAAc;MAAAgH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC3B;EAEA,IAAInG,KAAK,IAAI,CAACJ,MAAM,EAAE;IACpB,oBACEjD,OAAA,CAACC,eAAe;MAAA2I,QAAA,gBACd5I,OAAA,CAACuC,YAAY;QAAAqG,QAAA,gBACX5I,OAAA,CAACV,qBAAqB;UAAA+J,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACxBnG,KAAK;MAAA;QAAAgG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM,CAAC,eACfxJ,OAAA,CAACI,UAAU;QAACgL,OAAO,EAAEA,CAAA,KAAMtI,QAAQ,CAAC,UAAU,CAAE;QAAA8F,QAAA,gBAC9C5I,OAAA,CAACZ,WAAW;UAAAiK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,mBAEjB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEtB;EAEA,IAAI3F,SAAS,EAAE;IACb,oBACE7D,OAAA,CAACC,eAAe;MAAA2I,QAAA,eACd5I,OAAA,CAACyC,cAAc;QAAAmG,QAAA,gBACb5I,OAAA,CAACX,aAAa;UAACgM,IAAI,EAAE,EAAG;UAACxB,KAAK,EAAE;YAAEmB,KAAK,EAAE;UAAU;QAAE;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxDxJ,OAAA;UAAA4I,QAAA,EAAI;QAAyB;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClCxJ,OAAA;UAAA4I,QAAA,EAAIvF,KAAK,IAAI;QAAmC;UAAAgG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACpDvG,MAAM,IAAIA,MAAM,CAACqI,YAAY,iBAC5BtL,OAAA;UAAA4I,QAAA,GAAG,gBAAc,eAAA5I,OAAA;YAAA4I,QAAA,GAAS3F,MAAM,CAACqI,YAAY,EAAC,SAAO;UAAA;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,gCAA4B;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAC9F,eACDxJ,OAAA;UAAQoL,OAAO,EAAEA,CAAA,KAAMtI,QAAQ,CAAC,yBAAyB,CAAE;UAAA8F,QAAA,EAAC;QAAe;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAEtB;EAEA,IAAI,CAACvG,MAAM,IAAI,CAACA,MAAM,CAACwB,SAAS,IAAIxB,MAAM,CAACwB,SAAS,CAACuB,MAAM,KAAK,CAAC,EAAE;IACjE,oBACEhG,OAAA,CAACC,eAAe;MAAA2I,QAAA,gBACd5I,OAAA,CAACuC,YAAY;QAAAqG,QAAA,gBACX5I,OAAA,CAACV,qBAAqB;UAAA+J,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,qDAE3B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC,eACfxJ,OAAA,CAACI,UAAU;QAACgL,OAAO,EAAEA,CAAA,KAAMtI,QAAQ,CAAC,UAAU,CAAE;QAAA8F,QAAA,gBAC9C5I,OAAA,CAACZ,WAAW;UAAAiK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,mBAEjB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEtB;EAEA,MAAMrB,mBAAmB,GAAGlF,MAAM,CAACwB,SAAS,CAAClB,eAAe,CAAC;EAC7D,MAAMgI,QAAQ,GAAI,CAAChI,eAAe,GAAG,CAAC,IAAIN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAI,GAAG;EAExE,oBACEhG,OAAA,CAACC,eAAe;IAAA2I,QAAA,gBACd5I,OAAA,CAACI,UAAU;MAACgL,OAAO,EAAEA,CAAA,KAAMtI,QAAQ,CAAC,UAAU,CAAE;MAAA8F,QAAA,gBAC9C5I,OAAA,CAACZ,WAAW;QAAAiK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,mBAEjB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAEbxJ,OAAA,CAACQ,YAAY;MAAAoI,QAAA,gBACX5I,OAAA;QAAA4I,QAAA,EAAK3F,MAAM,CAACuI;MAAK;QAAAnC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACvBxJ,OAAA;QAAA4I,QAAA,EAAI3F,MAAM,CAACwI;MAAW;QAAApC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eAEfxJ,OAAA,CAACU,UAAU;MAAAkI,QAAA,gBACT5I,OAAA,CAACY,QAAQ;QAAAgI,QAAA,gBACP5I,OAAA,CAACT,KAAK;UAAC8L,IAAI,EAAE,EAAG;UAACL,KAAK,EAAC;QAAS;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACnCxJ,OAAA;UAAA4I,QAAA,gBACE5I,OAAA;YAAK6J,KAAK,EAAE;cAAC6B,UAAU,EAAE,KAAK;cAAEV,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,EAAEN,cAAc,CAACrF,MAAM,CAAC0I,aAAa;UAAC;YAAAtC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/FxJ,OAAA;YAAK6J,KAAK,EAAE;cAACkB,QAAQ,EAAE,SAAS;cAAEC,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,EAAC;UAAc;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACXxJ,OAAA,CAACY,QAAQ;QAAAgI,QAAA,gBACP5I,OAAA,CAACP,UAAU;UAAC4L,IAAI,EAAE,EAAG;UAACL,KAAK,EAAC;QAAS;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxCxJ,OAAA;UAAA4I,QAAA,gBACE5I,OAAA;YAAK6J,KAAK,EAAE;cAAC6B,UAAU,EAAE,KAAK;cAAEV,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,GAAE3F,MAAM,CAACqI,YAAY,EAAC,SAAO;UAAA;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrFxJ,OAAA;YAAK6J,KAAK,EAAE;cAACkB,QAAQ,EAAE,SAAS;cAAEC,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,EAAC;UAAM;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACXxJ,OAAA,CAACY,QAAQ;QAAAgI,QAAA,gBACP5I,OAAA,CAACR,KAAK;UAAC6L,IAAI,EAAE,EAAG;UAACL,KAAK,EAAC;QAAS;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACnCxJ,OAAA;UAAA4I,QAAA,gBACE5I,OAAA;YAAK6J,KAAK,EAAE;cAAC6B,UAAU,EAAE,KAAK;cAAEV,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,EAAE3F,MAAM,CAAC2I,cAAc,IAAI;UAAS;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7FxJ,OAAA;YAAK6J,KAAK,EAAE;cAACkB,QAAQ,EAAE,SAAS;cAAEC,KAAK,EAAE;YAAS,CAAE;YAAApC,QAAA,EAAC;UAAe;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,EAEZnG,KAAK,iBACJrD,OAAA,CAACuC,YAAY;MAAAqG,QAAA,gBACX5I,OAAA,CAACV,qBAAqB;QAAA+J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACxBnG,KAAK;IAAA;MAAAgG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACM,CACf,eAEDxJ,OAAA,CAACc,WAAW;MAAA8H,QAAA,gBACV5I,OAAA;QAAA4I,QAAA,gBACE5I,OAAA,CAACsB,YAAY;UAAAsH,QAAA,gBACX5I,OAAA;YAAK+I,SAAS,EAAC,iBAAiB;YAAAH,QAAA,gBAC9B5I,OAAA;cAAK+I,SAAS,EAAC,iBAAiB;cAAAH,QAAA,GAAC,WACtB,EAACrF,eAAe,GAAG,CAAC;YAAA;cAAA8F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC,eACNxJ,OAAA;cAAI+I,SAAS,EAAC,eAAe;cAAAH,QAAA,EAC1BT,mBAAmB,CAACtC;YAAQ;cAAAwD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC,EACJrB,mBAAmB,CAAC7B,QAAQ,iBAC3BtG,OAAA;cAAK+I,SAAS,EAAC,mBAAmB;cAAAH,QAAA,EAAC;YAEnC;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENxJ,OAAA;YAAK+I,SAAS,EAAC,kBAAkB;YAAAH,QAAA,EAC9BF,cAAc,CAACP,mBAAmB;UAAC;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC,eAGNxJ,OAAA;YAAK6J,KAAK,EAAE;cACVgC,SAAS,EAAE,SAAS;cACpB/B,OAAO,EAAE,QAAQ;cACjBgC,UAAU,EAAE,0BAA0B;cACtC/B,MAAM,EAAE,mCAAmC;cAC3CC,YAAY,EAAE,KAAK;cACnBe,QAAQ,EAAE,QAAQ;cAClBC,KAAK,EAAE,SAAS;cAChBH,SAAS,EAAE;YACb,CAAE;YAAAjC,QAAA,GAAC,qBACQ,eAAA5I,OAAA;cAAK6J,KAAK,EAAE;gBACnBiC,UAAU,EAAE,SAAS;gBACrB/B,MAAM,EAAE,mBAAmB;gBAC3BC,YAAY,EAAE,KAAK;gBACnBF,OAAO,EAAE,eAAe;gBACxBiB,QAAQ,EAAE,SAAS;gBACnBgB,UAAU,EAAE;cACd,CAAE;cAAAnD,QAAA,EAAC;YAAK;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,QAAI,EAACjG,eAAe,KAAKN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,GAAG,eAAe,GAAG,uBAAuB;UAAA;YAAAqD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3G,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM,CAAC,eAEfxJ,OAAA,CAACmC,iBAAiB;UAAAyG,QAAA,gBAChB5I,OAAA;YACE+I,SAAS,EAAC,UAAU;YACpBqC,OAAO,EAAEvE,cAAe;YACxBmF,QAAQ,EAAEzI,eAAe,KAAK,CAAE;YAAAqF,QAAA,gBAEhC5I,OAAA,CAACN,WAAW;cAAC2L,IAAI,EAAE;YAAG;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,YAE3B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAERjG,eAAe,KAAKN,MAAM,CAACwB,SAAS,CAACuB,MAAM,GAAG,CAAC,gBAC9ChG,OAAA;YACE+I,SAAS,EAAC,QAAQ;YAClBqC,OAAO,EAAEtE,YAAa;YACtBkF,QAAQ,EAAErI,UAAU,IAAI,CAAC0C,4BAA4B,CAAC,CAAE;YAAAuC,QAAA,EAEvDjF,UAAU,GAAG,eAAe,GAAG;UAAe;YAAA0F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,gBAETxJ,OAAA;YACE+I,SAAS,EAAC,MAAM;YAChBqC,OAAO,EAAExE,UAAW;YACpBoF,QAAQ,EAAE7D,mBAAmB,CAAC7B,QAAQ,IAAI,CAACV,yBAAyB,CAAC,CAAE;YAAAgD,QAAA,GACxE,MAEC,eAAA5I,OAAA,CAACL,YAAY;cAAC0L,IAAI,EAAE;YAAG;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACgB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CAAC,eAENxJ,OAAA;QAAA4I,QAAA,gBACE5I,OAAA,CAACgB,IAAI;UAAA4H,QAAA,gBACF5I,OAAA,CAACkB,UAAU;YAAA0H,QAAA,gBACT5I,OAAA;cAAA4I,QAAA,EAAI;YAAQ;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjBxJ,OAAA;cAAM6J,KAAK,EAAE;gBAACmB,KAAK,EAAE,SAAS;gBAAEU,UAAU,EAAE;cAAK,CAAE;cAAA9C,QAAA,GAChD5B,IAAI,CAACiF,KAAK,CAACV,QAAQ,CAAC,EAAC,GACxB;YAAA;cAAAlC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC,eACbxJ,OAAA,CAACoB,WAAW;YAAAwH,QAAA,gBACV5I,OAAA;cAAK+I,SAAS,EAAC,gBAAgB;cAAAH,QAAA,eAC7B5I,OAAA;gBAAK+I,SAAS,EAAC,eAAe;gBAACc,KAAK,EAAE;kBAAEc,KAAK,EAAE,GAAGY,QAAQ;gBAAI;cAAE;gBAAAlC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,eACNxJ,OAAA;cAAK6J,KAAK,EAAE;gBAACgC,SAAS,EAAE,QAAQ;gBAAEd,QAAQ,EAAE,QAAQ;gBAAEC,KAAK,EAAE;cAAS,CAAE;cAAApC,QAAA,GAAC,WAC9D,EAACrF,eAAe,GAAG,CAAC,EAAC,MAAI,EAACN,MAAM,CAACwB,SAAS,CAACuB,MAAM;YAAA;cAAAqD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eAERxJ,OAAA,CAACgB,IAAI;UAAC6I,KAAK,EAAE;YAACgC,SAAS,EAAE;UAAM,CAAE;UAAAjD,QAAA,gBAC9B5I,OAAA,CAACkB,UAAU;YAAA0H,QAAA,eACT5I,OAAA;cAAA4I,QAAA,EAAI;YAAW;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,eACbxJ,OAAA,CAACoB,WAAW;YAAAwH,QAAA,eACV5I,OAAA;cAAK6J,KAAK,EAAE;gBAACqC,OAAO,EAAE,MAAM;gBAAEC,aAAa,EAAE,QAAQ;gBAAEC,GAAG,EAAE;cAAQ,CAAE;cAAAxD,QAAA,gBACpE5I,OAAA;gBAAK6J,KAAK,EAAE;kBAACqC,OAAO,EAAE,MAAM;kBAAEG,cAAc,EAAE;gBAAe,CAAE;gBAAAzD,QAAA,gBAC7D5I,OAAA;kBAAM6J,KAAK,EAAE;oBAACmB,KAAK,EAAE;kBAAS,CAAE;kBAAApC,QAAA,EAAC;gBAAgB;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxDxJ,OAAA;kBAAM6J,KAAK,EAAE;oBAAC6B,UAAU,EAAE;kBAAK,CAAE;kBAAA9C,QAAA,EAAE3F,MAAM,CAACwB,SAAS,CAACuB;gBAAM;kBAAAqD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/D,CAAC,eACNxJ,OAAA;gBAAK6J,KAAK,EAAE;kBAACqC,OAAO,EAAE,MAAM;kBAAEG,cAAc,EAAE;gBAAe,CAAE;gBAAAzD,QAAA,gBAC7D5I,OAAA;kBAAM6J,KAAK,EAAE;oBAACmB,KAAK,EAAE;kBAAS,CAAE;kBAAApC,QAAA,EAAC;gBAAQ;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAChDxJ,OAAA;kBAAM6J,KAAK,EAAE;oBAAC6B,UAAU,EAAE;kBAAK,CAAE;kBAAA9C,QAAA,EAAErF,eAAe,GAAG;gBAAC;kBAAA8F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3D,CAAC,eACNxJ,OAAA;gBAAK6J,KAAK,EAAE;kBAACqC,OAAO,EAAE,MAAM;kBAAEG,cAAc,EAAE;gBAAe,CAAE;gBAAAzD,QAAA,gBAC7D5I,OAAA;kBAAM6J,KAAK,EAAE;oBAACmB,KAAK,EAAE;kBAAS,CAAE;kBAAApC,QAAA,EAAC;gBAAS;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACjDxJ,OAAA;kBAAM6J,KAAK,EAAE;oBAAC6B,UAAU,EAAE;kBAAK,CAAE;kBAAA9C,QAAA,EAAEzC,MAAM,CAACC,IAAI,CAAC3C,SAAS,CAAC,CAACuC;gBAAM;kBAAAqD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrE,CAAC,eACNxJ,OAAA;gBAAK6J,KAAK,EAAE;kBAACqC,OAAO,EAAE,MAAM;kBAAEG,cAAc,EAAE;gBAAe,CAAE;gBAAAzD,QAAA,gBAC7D5I,OAAA;kBAAM6J,KAAK,EAAE;oBAACmB,KAAK,EAAE;kBAAS,CAAE;kBAAApC,QAAA,EAAC;gBAAS;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACjDxJ,OAAA;kBAAM6J,KAAK,EAAE;oBAAC6B,UAAU,EAAE,KAAK;oBAAEV,KAAK,EAAEzE,0BAA0B,CAAC,CAAC,CAAC1C,SAAS,KAAK0C,0BAA0B,CAAC,CAAC,CAACC,KAAK,GAAG,SAAS,GAAG;kBAAS,CAAE;kBAAAoC,QAAA,GAC5IrC,0BAA0B,CAAC,CAAC,CAAC1C,SAAS,EAAC,GAAC,EAAC0C,0BAA0B,CAAC,CAAC,CAACC,KAAK;gBAAA;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,EACL,CAACnD,4BAA4B,CAAC,CAAC,iBAC9BrG,OAAA;gBAAK6J,KAAK,EAAE;kBAACC,OAAO,EAAE,QAAQ;kBAAEgC,UAAU,EAAE,SAAS;kBAAE/B,MAAM,EAAE,mBAAmB;kBAAEC,YAAY,EAAE,KAAK;kBAAEe,QAAQ,EAAE,QAAQ;kBAAEC,KAAK,EAAE;gBAAS,CAAE;gBAAApC,QAAA,EAAC;cAEhJ;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEtB,CAAC;AAAC5G,EAAA,CA3rBID,YAAY;EAAA,QACDzD,SAAS,EACPC,WAAW,EACES,OAAO;AAAA;AAAA0M,IAAA,GAHjC3J,YAAY;AA6rBlB,eAAeA,YAAY;AAAC,IAAAxC,EAAA,EAAAG,GAAA,EAAAG,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAG,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAAE,IAAA,EAAA4J,IAAA;AAAAC,YAAA,CAAApM,EAAA;AAAAoM,YAAA,CAAAjM,GAAA;AAAAiM,YAAA,CAAA9L,GAAA;AAAA8L,YAAA,CAAA5L,GAAA;AAAA4L,YAAA,CAAA1L,GAAA;AAAA0L,YAAA,CAAAxL,GAAA;AAAAwL,YAAA,CAAAtL,GAAA;AAAAsL,YAAA,CAAApL,GAAA;AAAAoL,YAAA,CAAAlL,GAAA;AAAAkL,YAAA,CAAAhL,GAAA;AAAAgL,YAAA,CAAA9K,GAAA;AAAA8K,YAAA,CAAA3K,IAAA;AAAA2K,YAAA,CAAAxK,IAAA;AAAAwK,YAAA,CAAArK,IAAA;AAAAqK,YAAA,CAAAnK,IAAA;AAAAmK,YAAA,CAAAjK,IAAA;AAAAiK,YAAA,CAAA/J,IAAA;AAAA+J,YAAA,CAAA7J,IAAA;AAAA6J,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}